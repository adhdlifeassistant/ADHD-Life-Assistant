(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69374,e=>{"use strict";e.s(["default",()=>ev],69374);var t=e.i(43476),s=e.i(71645),a=e.i(37443),i=e.i(8362);let r={energetic:[{id:"tasks",priority:1,reason:"Perfect pour tacler tes gros projets !",isRecommended:!0},{id:"cooking",priority:1,reason:"Cuisine créative et batch cooking !",isRecommended:!0},{id:"checklists",priority:2,reason:"Organise tes sorties efficacement",isRecommended:!1},{id:"focus",priority:2,reason:"Channel cette énergie avec des sessions focus",isRecommended:!1},{id:"chat",priority:2,reason:"Brainstorme tes idées avec Claude",isRecommended:!1},{id:"reminders",priority:2,reason:"Garde le momentum avec tes médicaments",isRecommended:!1},{id:"home",priority:3,reason:"Dashboard complet",isRecommended:!1}],normal:[{id:"home",priority:1,reason:"Vue d'ensemble équilibrée",isRecommended:!0},{id:"cooking",priority:1,reason:"Cuisine équilibrée et savoureuse",isRecommended:!0},{id:"checklists",priority:1,reason:"Prépare tes sorties sereinement",isRecommended:!0},{id:"tasks",priority:2,reason:"Avance régulièrement sur tes objectifs",isRecommended:!1},{id:"chat",priority:2,reason:"Assistant pour t'organiser",isRecommended:!1},{id:"reminders",priority:2,reason:"Maintiens tes bonnes habitudes",isRecommended:!1},{id:"focus",priority:2,reason:"Sessions modérées pour rester productif",isRecommended:!1}],tired:[{id:"cooking",priority:1,reason:"Solutions simples et réconfortantes",isRecommended:!0},{id:"checklists",priority:1,reason:"Évite les oublis quand tu sors",isRecommended:!0},{id:"reminders",priority:1,reason:"L'essentiel : tes médicaments",isRecommended:!0},{id:"chat",priority:2,reason:"Parle à Claude, pas de pression",isRecommended:!1},{id:"home",priority:2,reason:"Juste ce qu'il faut",isRecommended:!1},{id:"tasks",priority:3,reason:"Pas aujourd'hui, repose-toi",isRecommended:!1},{id:"focus",priority:3,reason:"Évite les sessions intenses",isRecommended:!1}],stressed:[{id:"checklists",priority:1,reason:"Réduis le stress des préparatifs",isRecommended:!0},{id:"cooking",priority:1,reason:"Cuisine apaisante et méditative",isRecommended:!0},{id:"chat",priority:1,reason:"Parle de ce qui te stresse",isRecommended:!0},{id:"reminders",priority:2,reason:"Ne rate pas tes médicaments",isRecommended:!1},{id:"home",priority:2,reason:"Simplifie avec le dashboard",isRecommended:!1},{id:"tasks",priority:3,reason:"Une chose à la fois seulement",isRecommended:!1},{id:"focus",priority:3,reason:"Évite la pression supplémentaire",isRecommended:!1}],sad:[{id:"cooking",priority:1,reason:"Plats doudou réconfortants",isRecommended:!0},{id:"checklists",priority:2,reason:"Simplifie tes sorties nécessaires",isRecommended:!1},{id:"chat",priority:1,reason:"Claude est là pour t'écouter",isRecommended:!0},{id:"reminders",priority:2,reason:"Prendre soin de toi est prioritaire",isRecommended:!1},{id:"home",priority:2,reason:"Douceur et bienveillance",isRecommended:!1},{id:"tasks",priority:3,reason:"Pas de pression aujourd'hui",isRecommended:!1},{id:"focus",priority:3,reason:"Repos mental recommandé",isRecommended:!1}]};var n=e.i(25661),l=e.i(99749);class o{static getInstance(){return o.instance||(o.instance=new o),o.instance}initializeGlobalKeyboardHandlers(){"undefined"!=typeof document&&document.addEventListener("keydown",e=>{"Escape"===e.key&&this.handleEscape()})}handleEscape(){document.querySelectorAll('[role="dialog"][aria-modal="true"]').forEach(e=>{let t=e.querySelector('button[aria-label*="Fermer"], button[aria-label*="fermer"]');t instanceof HTMLElement&&t.click()}),document.querySelectorAll('[aria-expanded="true"]').forEach(e=>{e instanceof HTMLElement&&e.click()})}getFocusableElements(e){return Array.from(e.querySelectorAll(this.focusableSelectors)).filter(e=>e instanceof HTMLElement&&!("disabled"in e&&e.disabled)&&!e.hidden&&e.offsetWidth>0&&e.offsetHeight>0)}trapFocus(e,t){if("Tab"!==t.key)return;let s=this.getFocusableElements(e);if(0===s.length)return;let a=s[0],i=s[s.length-1];t.shiftKey?document.activeElement===a&&(i.focus(),t.preventDefault()):document.activeElement===i&&(a.focus(),t.preventDefault())}handleArrowNavigation(e,t){var s;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"both",{key:i}=t,r="ArrowLeft"===i||"ArrowRight"===i,n="ArrowUp"===i||"ArrowDown"===i;if(!r&&!n||"horizontal"===a&&!r||"vertical"===a&&!n)return;t.preventDefault();let l=this.getFocusableElements(e);if(0===l.length)return;let o=l.indexOf(document.activeElement),c=o;switch(i){case"ArrowLeft":case"ArrowUp":c=o>0?o-1:l.length-1;break;case"ArrowRight":case"ArrowDown":c=o<l.length-1?o+1:0}null==(s=l[c])||s.focus()}handleRadioGroupNavigation(e){let t,{key:s,target:a}=e;if(!a||!(a instanceof HTMLElement))return;let i=a.closest('[role="radiogroup"]');if(!i||!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(s))return;e.preventDefault();let r=Array.from(i.querySelectorAll('[role="radio"]')),n=r.indexOf(a);t="ArrowUp"===s||"ArrowLeft"===s?n>0?n-1:r.length-1:n<r.length-1?n+1:0;let l=r[t];l&&(l.focus(),l.click())}handleTabNavigation(e){let t,{key:s,target:a}=e;if(!a||!(a instanceof HTMLElement))return;let i=a.closest('[role="tablist"]');if(!i||!["ArrowLeft","ArrowRight","Home","End"].includes(s))return;e.preventDefault();let r=Array.from(i.querySelectorAll('[role="tab"]')),n=r.indexOf(a);switch(s){case"ArrowLeft":t=n>0?n-1:r.length-1;break;case"ArrowRight":t=n<r.length-1?n+1:0;break;case"Home":t=0;break;case"End":t=r.length-1;break;default:return}let l=r[t];l&&(l.focus(),l.click())}initializeComponent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=s=>{t.trapFocus&&"Tab"===s.key&&this.trapFocus(e,s),t.arrowNavigation&&this.handleArrowNavigation(e,s,t.arrowNavigation),t.radioGroups&&this.handleRadioGroupNavigation(s),t.tabList&&this.handleTabNavigation(s)};return e.addEventListener("keydown",s),()=>{e.removeEventListener("keydown",s)}}focusFirst(e){let t=this.getFocusableElements(e);return t.length>0&&(t[0].focus(),!0)}focusLast(e){let t=this.getFocusableElements(e);return t.length>0&&(t[t.length-1].focus(),!0)}skipToMainContent(){let e=document.getElementById("main-content");e&&(e.focus(),e.scrollIntoView({behavior:"smooth",block:"start"}))}constructor(){(0,l._)(this,"focusableSelectors",'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),this.initializeGlobalKeyboardHandlers()}}(0,l._)(o,"instance",void 0);let c=o.getInstance();function d(){let{currentMood:e,setMood:s}=(0,i.useMood)();return(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{className:"text-xs lg:text-sm font-medium mb-2 lg:mb-3",style:{color:"var(--mood-text)"},children:"Comment tu te sens ?"}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-1 lg:gap-2",role:"radiogroup","aria-label":"Sélecteur d'humeur",children:Object.values(i.MOOD_CONFIG).map(a=>(0,t.jsx)("button",{onClick:()=>{s(a.id),n.a11yService.announceMoodChange(a.label,a.description)},className:"\n                p-1.5 lg:p-2 rounded-lg text-sm lg:text-lg transition-bounce hover-lift\n                focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n                ".concat(e===a.id?"".concat(a.bgColor," ").concat(a.textColor," ring-1 lg:ring-2 ring-current pulse-mood"):"hover:bg-white/50","\n              "),role:"radio","aria-checked":e===a.id,"aria-label":"".concat(a.label,": ").concat(a.description),title:"".concat(a.label,": ").concat(a.description),children:(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:a.emoji})},a.id))})]})})}function m(){let{getMoodConfig:e,currentMood:n}=(0,i.useMood)(),{currentView:l,setView:o,isSidebarOpen:m,setSidebarOpen:u}=(0,a.useDashboard)(),x=e();return s.default.useEffect(()=>{let e=document.getElementById("navigation-sidebar");if(e&&m){let t=c.initializeComponent(e,{arrowNavigation:"vertical",radioGroups:!0}),s=e.querySelector('[role="navigation"] button');return s instanceof HTMLElement&&s.focus(),t}},[m]),(0,t.jsxs)(t.Fragment,{children:[m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 lg:hidden z-40",onClick:()=>u(!1)}),(0,t.jsxs)("aside",{id:"navigation-sidebar",className:"\n          fixed lg:static inset-y-0 left-0 z-50\n          w-80 lg:w-80 sm:w-72 xs:w-64\n          transform transition-transform duration-300 ease-in-out\n          ".concat(m?"translate-x-0":"-translate-x-full lg:translate-x-0","\n          bg-white/80 backdrop-blur-md border-r border-white/20\n          flex flex-col\n          max-h-screen overflow-y-auto\n        "),role:"navigation","aria-label":"Navigation principale","aria-hidden":!m&&window.innerWidth<1024,children:[(0,t.jsxs)("div",{className:"p-4 lg:p-6 border-b border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 lg:mb-6",children:[(0,t.jsx)("h1",{className:"text-lg lg:text-xl font-bold truncate",style:{color:"var(--mood-text)"},children:"ADHD Assistant"}),(0,t.jsx)("button",{onClick:()=>u(!1),className:"lg:hidden text-slate-400 hover:text-slate-600 p-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded","aria-label":"Fermer le menu de navigation",children:(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:"✕"})})]}),(0,t.jsx)(d,{}),(0,t.jsx)("div",{className:"\n            p-2 lg:p-3 rounded-xl ".concat(x.bgColor," ").concat(x.textColor,"\n          "),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-base lg:text-lg",children:x.emoji}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("p",{className:"font-medium text-xs lg:text-sm truncate",children:["Mode ",x.label]}),(0,t.jsx)("p",{className:"text-xs opacity-80 truncate",children:x.description})]})]})})]}),(0,t.jsx)("div",{className:"flex-1 p-4 lg:p-6 overflow-y-auto",children:(0,t.jsx)("nav",{className:"space-y-1 lg:space-y-2",role:"navigation","aria-label":"Modules de l'application",children:a.NAVIGATION_ITEMS.map(e=>{let s=function(e,t){let s=r[e].find(e=>e.id===t);return(null==s?void 0:s.isRecommended)||!1}(n,e.id),a=function(e,t){let s=r[e].find(e=>e.id===t);return(null==s?void 0:s.priority)===3&&("tired"===e||"sad"===e)}(n,e.id),i=function(e,t){let s=r[e].find(e=>e.id===t);return(null==s?void 0:s.reason)||""}(n,e.id);return a?null:(0,t.jsxs)("button",{onClick:()=>o(e.id),className:"\n                    w-full flex items-center gap-2 lg:gap-3 p-2 lg:p-3 rounded-lg lg:rounded-xl transition-all text-left relative\n                    focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n                    ".concat(l===e.id?"".concat(x.bgColor," ").concat(x.textColor," shadow-sm"):"hover:bg-white/50","\n                    ").concat(s?"ring-1 lg:ring-2 ring-current ring-opacity-50":"","\n                  "),"aria-current":l===e.id?"page":void 0,"aria-describedby":s?"".concat(e.id,"-recommended"):void 0,children:[s&&(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 lg:w-4 lg:h-4 bg-yellow-400 rounded-full flex items-center justify-center","aria-hidden":"true",children:(0,t.jsx)("span",{className:"text-xs",children:"⭐"})}),(0,t.jsx)("span",{className:"text-lg lg:text-xl flex-shrink-0",role:"img","aria-label":"Icône ".concat(e.label),children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 lg:gap-2",children:[(0,t.jsx)("p",{className:"font-medium text-sm lg:text-base truncate",children:e.label}),s&&(0,t.jsx)("span",{id:"".concat(e.id,"-recommended"),className:"text-xs px-1 py-0.5 bg-yellow-100 text-yellow-800 rounded hidden lg:inline",children:"Recommandé"})]}),(0,t.jsx)("p",{className:"text-xs opacity-70 truncate lg:overflow-visible lg:whitespace-normal",children:i||e.description})]})]},e.id)})})}),(0,t.jsx)("div",{className:"p-4 lg:p-6 border-t border-white/20 flex-shrink-0",children:(0,t.jsxs)("div",{className:"text-center space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>{let e=new CustomEvent("open-settings");window.dispatchEvent(e)},className:"w-full px-3 py-2 text-sm bg-white/20 hover:bg-white/30 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",style:{color:"var(--mood-text)"},"aria-label":"Ouvrir les paramètres de l'application",children:[(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:"⚙️"})," Paramètres"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs opacity-60 truncate",style:{color:"var(--mood-text)"},children:"ADHD Life Assistant v1.0"}),(0,t.jsx)("p",{className:"text-xs opacity-40 mt-1 truncate",style:{color:"var(--mood-text)"},children:"Fait avec 💜 pour la communauté ADHD"})]})]})})]})]})}var u=e.i(33426),x=e.i(63582);let p={energetic:{morning:["Salut champion ! 💪 Prêt(e) à conquérir cette journée ?","Bonjour superstar ! ✨ Cette énergie est fantastique !","Hello warrior ! 🚀 Tu rayonnes ce matin !","Coucou dynamo ! ⚡ On sent cette motivation d'ici !"],afternoon:["Salut force de la nature ! 🌟 Tu gardes le rythme !","Hey champion ! 💥 Cette énergie de l'après-midi est TOP !","Hello machine ! 🔥 Tu es en feu aujourd'hui !","Coucou tornado ! 🌪️ Rien ne t'arrête !"],evening:["Bonsoir rockstar ! 🎸 Quelle journée productive !","Salut héros du jour ! 🦸‍♀️ Tu as tout déchiré !","Hey champion ! 🏆 Time to celebrate cette énergie !","Coucou wonder-person ! ⭐ Tu peux être fier(e) !"],motivational:["C'est LE moment pour tacler tes gros projets !","Cette énergie est parfaite pour créer quelque chose d'amazing !","Profite de cette vibe pour faire avancer tes rêves !","Go go go ! L'univers t'envoie de la pure motivation !"],supportive:["N'oublie pas de prendre des pauses pour ne pas t'épuiser !","Channel cette énergie intelligemment, tu es unstoppable !","Hydrate-toi et nourris bien ce corps qui te porte si bien !","Cette énergie est un cadeau, utilise-la avec sagesse !"]},normal:{morning:["Bonjour ! 😊 Belle journée qui commence tranquillement.","Salut ! ☀️ Comment tu te sens ce matin ?","Hello ! 🌸 Prêt(e) pour une journée équilibrée ?","Coucou ! 🌱 On avance step by step aujourd'hui ?"],afternoon:["Salut ! 👋 Comment se passe ton après-midi ?","Hello ! 🌿 Tu tiens le bon rythme !","Coucou ! 😌 L'équilibre te va bien !","Hey ! 🙂 Tranquille et efficace, j'adore !"],evening:["Bonsoir ! 🌙 Comment s'est passée ta journée ?","Salut ! ✨ Time to relax après cette journée équilibrée.","Hello ! 🌆 Tu peux être satisfait(e) de ta journée !","Coucou ! 😊 Un bon bilan pour aujourd'hui ?"],motivational:["C'est parfait pour avancer sur tes projets régulièrement !","Cette stabilité est idéale pour construire de bonnes habitudes.","Profite de cet équilibre pour prendre soin de toi ET être productif/ve !","La régularité est ta superpower aujourd'hui !"],supportive:["Tu es dans un bon flow, continue comme ça !","Cette sérénité est précieuse, savoure-la !","Parfait pour faire du progrès sans pression !","Tu gères bien tes énergies, bravo !"]},tired:{morning:["Hey... 😴 Je vois que tu es fatigué(e). On y va doucement ?","Salut sleepy... ☕ Pas de pression ce matin, ok ?","Hello tired soul... 🛏️ Ton corps a besoin de tendresse.","Coucou... 🌙 Difficile de démarrer ? C'est normal."],afternoon:["Salut... 😌 La fatigue de l'après-midi, je connais.","Hey... ☕ Time for a break peut-être ?","Hello... 🌸 Sois doux/douce avec toi aujourd'hui.","Coucou... 🛋️ Un petit repos serait bienvenu ?"],evening:["Bonsoir tired friend... 🌜 Tu as fait ce que tu as pu.","Salut... 😴 C'est ok d'être épuisé(e) le soir.","Hello... 🌙 Time to recharge pour demain.","Coucou... 💤 Tu mérites du repos maintenant."],motivational:["Les petites victoires comptent double quand on est fatigué(e) !","Même fatigué(e), tu fais de ton mieux. C'est beau ça !","Rest is productive too, remember ça !","Ton corps et ton esprit ont le droit d'être fatigués."],supportive:["Hydrate-toi, mange quelque chose de bon, repose-toi.","Pas besoin d'être productif/ve aujourd'hui, just survive.","Listen to your body, il sait ce dont il a besoin.","Tomorrow is another day, aujourd'hui on récupère."]},stressed:{morning:["Hey... 😰 Je sens du stress ce matin. Respirons ensemble ?","Salut stressed friend... 🫁 Une chose à la fois, ok ?","Hello... 💙 C'est tendu ? On va simplifier la journée.","Coucou... 🌊 Breathe in, breathe out. Tu n'es pas seul(e)."],afternoon:["Salut... 😟 Le stress de l'après-midi monte ? Normal.","Hey... 🌿 Pause respiration time, ça te dit ?","Hello overwhelmed soul... 🤗 Step back, on décompresse.","Coucou... ☁️ C'est beaucoup en ce moment ? Je comprends."],evening:["Bonsoir... 😔 Journée stressante ? Tu l'as survived !","Salut tired warrior... 🌙 Le stress épuise, tu le sais.","Hello brave person... ✨ Tu as tenu bon aujourd'hui.","Coucou fighter... 💜 Time to let go du stress maintenant."],motivational:["Tu es plus fort(e) que tu ne le crois, même stressé(e) !","Each breath is a small victory contre le stress.","Tu gères des choses difficiles, acknowledge that !","Stress means you care. Tu es quelqu'un de bien."],supportive:["Priority #1: respirer, boire de l'eau, manger.","Dis-moi ce qui te stresse, sometimes talking helps.","Tu n'as pas à tout gérer aujourd'hui, chose one thing.","It's ok to not be ok. Le stress passera, promise."]},sad:{morning:["Courage... 💜 Je suis là pour toi. Qu'est-ce qui se passe ?","Hey sweet soul... 🤗 Difficult morning ? Tu n'es pas seul(e).","Hello brave heart... 💙 C'est dur parfois, je le sais.","Salut... 🌸 Bad day ? We'll get through this together."],afternoon:["Hey... 💜 Still feeling down ? C'est ok, je reste.","Salut tender heart... 🫂 Rough afternoon ? I see you.","Hello... 💙 Tu fais de ton mieux, même si c'est hard.","Coucou... 🌙 Pas besoin de sourire, just be yourself."],evening:["Bonsoir gentle soul... 🌜 Tu as survived today, bravo.","Salut... 💜 Tough day ? Tu as quand même tenu.","Hello strong person... ✨ Even sad, you're still fighting.","Coucou warrior... 💙 Tomorrow might be easier, maybe."],motivational:["Tu es allowed to feel sad. C'est human, c'est normal.","Même dans la tristesse, tu continues. C'est du courage ça.","Your feelings sont valid, all of them, même les tough ones.","Sad doesn't mean weak. Tu es courageux/se de ressentir."],supportive:["Tu veux me parler de ce qui te rend triste ?","Sometimes we need to feel sad pour pouvoir heal.","Take your time, no rush pour aller mieux.","Je reste avec toi dans cette tristesse, tu n'es pas seul(e)."]}};var h=e.i(84529);function g(e){let t=[];if(e.medications.length>0&&t.push({title:"Corrélation humeur & médications",description:"Analyse l'impact de tes ".concat(e.medications.length," médication(s) sur ton humeur"),type:"medication",priority:9}),e.chronotype){let s=h.CHRONOTYPES[e.chronotype];t.push({title:"Optimisation chronotype",description:"Tu es ".concat(s.label.toLowerCase(),", analyse ta productivité ").concat(s.peakHours.join("h-"),"h"),type:"chronotype",priority:8})}if(e.challenges.length>0){let s=h.ADHD_CHALLENGES[e.challenges[0]];t.push({title:"Progrès ".concat(null==s?void 0:s.label),description:'Suivi de ton défi prioritaire "'.concat(null==s?void 0:s.description,'"'),type:"challenges",priority:10})}return t.push({title:"Patterns d'humeur",description:"Découvre tes tendances émotionnelles et déclencheurs",type:"mood",priority:7}),t.sort((e,t)=>t.priority-e.priority)}var b=e.i(98203);function j(){let{getMoodConfig:e}=(0,i.useMood)(),{getTodaysReminders:s,markAsTaken:r}=(0,b.useReminders)(),{setView:n}=(0,a.useDashboard)();e();let l=s(),o=l.slice(0,3);return(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:"💊"}),(0,t.jsx)("h3",{className:"font-semibold",style:{color:"var(--mood-text)"},children:"Rappels du jour"})]}),(0,t.jsx)("button",{onClick:()=>n("reminders"),className:"text-sm opacity-70 hover:opacity-100 transition-opacity",style:{color:"var(--mood-text)"},children:"Voir tout →"})]}),0===o.length?(0,t.jsxs)("div",{className:"text-center py-4",children:[(0,t.jsx)("p",{className:"text-sm opacity-70",style:{color:"var(--mood-text)"},children:"Aucun rappel aujourd'hui"}),(0,t.jsx)("button",{onClick:()=>n("reminders"),className:"text-sm mt-2 underline",style:{color:"var(--mood-primary)"},children:"Créer un rappel"})]}):(0,t.jsxs)("div",{className:"space-y-3",children:[o.map(e=>{let s=(e=>{if(!e.lastTaken)return!1;let t=new Date,s=new Date(e.lastTaken);return t.toDateString()===s.toDateString()})(e);return(0,t.jsxs)("div",{className:"\n                  flex items-center gap-3 p-3 rounded-xl transition-all\n                  ".concat(s?"bg-green-50 border border-green-200":"bg-slate-50 border border-slate-200","\n                "),children:[(0,t.jsx)("span",{className:"text-lg",children:e.icon}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-sm text-slate-800 truncate",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:e.time})]}),s?(0,t.jsx)("div",{className:"text-green-600 text-sm font-medium",children:"Pris ✅"}):(0,t.jsx)("button",{onClick:()=>r(e.id),className:"px-2 py-1 text-xs rounded-lg bg-green-100 text-green-700 hover:bg-green-200 transition-colors",children:"Pris"})]},e.id)}),l.length>3&&(0,t.jsx)("div",{className:"text-center pt-2",children:(0,t.jsxs)("p",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:["+",l.length-3," autres rappels"]})})]})]})}function v(){let{getMoodConfig:e}=(0,i.useMood)(),{setView:s}=(0,a.useDashboard)(),r=e();return(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"text-xl",children:"⚡"}),(0,t.jsx)("h3",{className:"font-semibold",style:{color:"var(--mood-text)"},children:"Actions rapides"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{id:"new-reminder",label:"Nouveau rappel",icon:"💊",description:"Médicament",action:()=>s("reminders"),color:"purple"},{id:"start-focus",label:"Session focus",icon:"🎯",description:"Pomodoro",action:()=>s("focus"),color:"red"},{id:"add-task",label:"Nouvelle tâche",icon:"✅",description:"To-do",action:()=>s("tasks"),color:"orange"},{id:"chat-claude",label:"Parler à Claude",icon:"💬",description:"Assistant IA",action:()=>s("chat"),color:"green"}].map(e=>(0,t.jsx)("button",{onClick:e.action,className:"\n              p-4 rounded-xl border-2 border-transparent transition-all\n              hover:scale-105 active:scale-95 hover-lift\n              ".concat(r.bgColor.replace("-50","-100")," ").concat(r.hoverColor,"\n              hover:border-current\n            "),style:{borderColor:"var(--mood-primary)",boxShadow:"var(--mood-shadow)"},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:e.icon}),(0,t.jsx)("p",{className:"font-medium text-sm",style:{color:"var(--mood-text)"},children:e.label}),(0,t.jsx)("p",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:e.description})]})},e.id))})]})}function f(){let{profile:e}=(0,u.useProfile)(),{settings:s}=(0,x.useAppSettings)(),{currentMood:r,getMoodConfig:n}=(0,i.useMood)(),{setView:l}=(0,a.useDashboard)(),o=n(),c={profile:e,currentMood:r,currentTime:new Date},d=e.onboardingCompleted?function(e){let{profile:t,currentMood:s}=e,a=t.name||"toi",i=t.challenges.slice(0,2),r=i.length>0?" et tes défis ".concat(i.map(e=>{var t;return null==(t=h.ADHD_CHALLENGES[e])?void 0:t.label}).join(", ")):"",n={energetic:"Salut ".concat(a," ! Vu ton mood ⚡").concat(r,", par quoi on commence ?"),normal:"Hey ".concat(a," ! Comment je peux t'aider avec ton mood 😊").concat(r," ?"),tired:"Salut ".concat(a,"... Mood 😴").concat(r,", on fait quelque chose de doux ?"),stressed:"".concat(a,", respire 💙 Avec ton stress").concat(r,", on décompresse ?"),sad:"".concat(a," 💜 Jour difficile").concat(r," ? Je suis là pour toi.")};return n[s]||n.normal}(c):"Parle avec Claude, ton assistant IA adaptatif !";return(0,t.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:shadow-lg transition-all cursor-pointer",onClick:()=>l("chat"),children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"w-12 h-12 rounded-full ".concat(o.bgColor," flex items-center justify-center"),children:(0,t.jsx)("span",{className:"text-xl",children:s.avatar||o.emoji})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-800",children:["🤖 Chat ",e.name?"avec ".concat(e.name):"Claude"]}),e.onboardingCompleted&&(0,t.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"Personnalisé"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:d}),e.onboardingCompleted&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.challenges.slice(0,3).map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-50 text-blue-600 text-xs rounded",children:e.replace("-"," ")},e)),e.medications.length>0&&(0,t.jsxs)("span",{className:"px-2 py-1 bg-purple-50 text-purple-600 text-xs rounded",children:[e.medications.length," méd."]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(o.bgColor)}),"Mode ",o.label]}),(0,t.jsx)("button",{className:"px-3 py-1 text-xs rounded-lg ".concat(o.bgColor," ").concat(o.textColor," hover:scale-105 transition-transform"),children:"Ouvrir →"})]})]})]})})}function y(){let{profile:e}=(0,u.useProfile)(),{currentMood:s,getMoodConfig:r}=(0,i.useMood)(),{setView:n}=(0,a.useDashboard)(),l=r(),o=g(e);if(0===o.length)return(0,t.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"📈"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Analytics & Insights"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Découvre tes patterns personnels et optimise ton quotidien"}),(0,t.jsx)("button",{onClick:()=>n("analytics"),className:"px-4 py-2 text-sm rounded-lg ".concat(l.bgColor," ").concat(l.textColor," hover:scale-105 transition-transform"),children:"Voir mes stats →"})]})]})});let c=o[0];return(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-white/20 hover:shadow-lg transition-all cursor-pointer",onClick:()=>n("analytics"),children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("span",{className:"text-2xl",children:"📈"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"Mes Analytics ADHD"}),e.onboardingCompleted&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:"Personnalisées"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Insights basés sur TON profil personnel"})]})]}),(0,t.jsxs)("div",{className:"p-4 rounded-xl mb-4 ".concat("medication"===c.type?"bg-blue-50 border border-blue-200":"chronotype"===c.type?"bg-orange-50 border border-orange-200":"challenges"===c.type?"bg-purple-50 border border-purple-200":"bg-green-50 border border-green-200"),children:[(0,t.jsxs)("h4",{className:"font-medium mb-1 ".concat("medication"===c.type?"text-blue-800":"chronotype"===c.type?"text-orange-800":"challenges"===c.type?"text-purple-800":"text-green-800"),children:["🎯 ",c.title]}),(0,t.jsx)("p",{className:"text-sm ".concat("medication"===c.type?"text-blue-700":"chronotype"===c.type?"text-orange-700":"challenges"===c.type?"text-purple-700":"text-green-700"),children:c.description})]}),o.length>1&&(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[o.slice(1,3).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),e.title]},s)),o.length>3&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["+",o.length-3," autres insights..."]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[o.length," insight",o.length>1?"s":""," personnalisé",o.length>1?"s":""]}),(0,t.jsx)("button",{className:"px-3 py-1 text-xs rounded-lg ".concat(l.bgColor," ").concat(l.textColor," hover:scale-105 transition-transform"),children:"Voir tout →"})]})]})}function N(){let{currentMood:e,getMoodConfig:s}=(0,i.useMood)(),{profile:n}=(0,u.useProfile)(),{settings:l}=(0,x.useAppSettings)(),{setView:o}=(0,a.useDashboard)(),c=s(),d=new Date,m=d.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b={profile:n,currentMood:e,currentTime:d},N=n.onboardingCompleted&&n.challenges.length>0?function(e){let t=[];e.forEach(e=>{if(h.ADHD_CHALLENGES[e])switch(e){case"organization":t.push({moduleId:"checklists",priority:10,reason:"Les checklists t'aident à structurer tes journées"}),t.push({moduleId:"tasks",priority:8,reason:"Gestion des tâches pour ton défi organisation"});break;case"impulse-spending":t.push({moduleId:"finance",priority:10,reason:"Contrôle tes achats impulsifs avec des outils adaptés"});break;case"cleaning-tidying":t.push({moduleId:"cleaning",priority:10,reason:"Ménage gamifié pour ton défi rangement"});break;case"memory-forgetting":t.push({moduleId:"reminders",priority:9,reason:"Rappels intelligents pour ne rien oublier"}),t.push({moduleId:"checklists",priority:7,reason:"Listes anti-oublis pour ta mémoire"});break;case"time-management":t.push({moduleId:"focus",priority:9,reason:"Sessions pomodoro pour ta gestion du temps"}),t.push({moduleId:"tasks",priority:7,reason:"Planification des tâches selon le temps disponible"});break;case"procrastination":t.push({moduleId:"focus",priority:8,reason:"Sessions courtes pour vaincre la procrastination"}),t.push({moduleId:"chat",priority:6,reason:"Claude peut te motiver à commencer"});break;case"emotional-regulation":t.push({moduleId:"health",priority:8,reason:"Suivi de ton bien-être émotionnel"}),t.push({moduleId:"chat",priority:7,reason:"Support émotionnel avec Claude"});break;case"sleep-routine":t.push({moduleId:"health",priority:9,reason:"Tracking de ton sommeil et routines"});break;case"social-relationships":t.push({moduleId:"reminders",priority:6,reason:"Rappels pour rester en contact avec tes proches"});break;case"hyperfocus-distraction":t.push({moduleId:"focus",priority:10,reason:"Gestion équilibrée de ton attention"}),t.push({moduleId:"analytics",priority:5,reason:"Comprendre tes patterns d'attention"})}});let s=new Map;return t.forEach(e=>{let t=s.get(e.moduleId);t?s.set(e.moduleId,{priority:Math.max(t.priority,e.priority),reason:e.priority>t.priority?e.reason:t.reason}):s.set(e.moduleId,{priority:e.priority,reason:e.reason})}),Array.from(s.entries()).map(e=>{let[t,s]=e;return{moduleId:t,...s}}).sort((e,t)=>t.priority-e.priority).slice(0,4)}(n.challenges):r[e].filter(e=>e.isRecommended),w=function(e){if(!e.medications||0===e.medications.length)return[];let t=new Date,s=60*t.getHours()+t.getMinutes();return e.medications.map(e=>{let[t,a]=e.time.split(":").map(Number),i="upcoming",r="",n=60*t+a-s;if(n>30){i="upcoming";let e=Math.floor(n/60),t=n%60;r=e>0?"dans ".concat(e,"h").concat(t>0?" ".concat(t,"min"):""):"dans ".concat(t,"min")}else n>0&&n<=30?(i="now",r="dans ".concat(n,"min")):n>=-30?(i="now",r="maintenant"):(i="missed",r="en retard");return{id:e.id,name:e.name,time:e.time,status:i,timeUntil:r}}).sort((e,t)=>e.time.localeCompare(t.time))}(n),C=function(e){let{profile:t,currentTime:s}=e,a=s.getHours();return t.chronotype?h.CHRONOTYPES[t.chronotype].peakHours.includes(a)?"🌟 C'est ton créneau productif ! Profite de ces heures pour tes tâches importantes.":"morning"===t.chronotype&&a>15?"😊 L'après-midi est ton moment calme. Parfait pour les tâches légères ou créatives.":"evening"===t.chronotype&&a<14?"🌅 Le matin n'est pas ton fort. Commence doucement, tu seras plus efficace ce soir !":"⏰ Pas ton créneau optimal, mais ça ne veut pas dire que tu ne peux pas bien faire !":null}(b);return g(n),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"text-center p-8 rounded-3xl glow-".concat(e),style:{backgroundColor:"var(--mood-secondary)"},children:[(0,t.jsx)("div",{className:"text-4xl mb-4 animated-emoji",children:l.avatar||c.emoji}),(0,t.jsx)("h1",{className:"text-3xl md:text-4xl font-bold mb-4",style:{color:"var(--mood-text)"},children:n.name&&n.onboardingCompleted?function(e){let{profile:t,currentMood:s,currentTime:a}=e,i=t.name||"",r=a.getHours(),n="";t.chronotype&&(n=h.CHRONOTYPES[t.chronotype].peakHours.includes(r)?"morning"===t.chronotype?" Tu es dans ton créneau productif du matin !":"evening"===t.chronotype?" Parfait, c'est ton moment de la journée !":" C'est un bon moment pour toi !":"morning"===t.chronotype&&r>14?" L'après-midi est plus calme pour toi, c'est normal.":"evening"===t.chronotype&&r<12?" Le matin n'est pas ton fort, on y va à ton rythme.":"");let l={energetic:["Salut ".concat(i," ! ⚡ Belle énergie aujourd'hui !").concat(n),"Hey ".concat(i," ! 🌟 Je sens que tu pètes le feu !").concat(n),"".concat(i," ! 🚀 Prêt pour une journée productive ?").concat(n)],normal:["Bonjour ".concat(i," ! 😊 Comment tu te sens aujourd'hui ?").concat(n),"Salut ".concat(i," ! 🌸 Une journée équilibrée qui commence.").concat(n),"Hey ".concat(i," ! ✨ Prêt pour cette journée ?").concat(n)],tired:["Salut ".concat(i,"... 😴 Journée un peu lourde ?").concat(n),"Hey ".concat(i," 💙 On va prendre ça tranquille aujourd'hui.").concat(n),"".concat(i,", pas de pression aujourd'hui. 🤗").concat(n)],stressed:["Salut ".concat(i," 🫂 Je sens du stress... Respire un coup.").concat(n),"Hey ".concat(i," 💙 Ça semble tendu. On va y aller étape par étape.").concat(n),"".concat(i,", tout va bien se passer. 🌸").concat(n)],sad:["Salut ".concat(i," 💜 Jour difficile ? Je suis là pour toi.").concat(n),"Hey ".concat(i," 🤗 Prends ton temps aujourd'hui.").concat(n),"".concat(i," 💙 Pas besoin d'être fort en permanence.").concat(n)]};if(!i)return"energetic"===s?"Salut ! Comment tu te sens aujourd'hui ?":"tired"===s?"Salut... Comment ça va ?":"stressed"===s?"Salut, respire un coup. Comment ça va ?":"sad"===s?"Salut, je suis là pour toi.":"Salut ! Comment tu te sens aujourd'hui ?";let o=l[s]||l.normal;return o[Math.floor(Math.random()*o.length)]}(b):function(e){let t=new Date().getHours(),s=p[e][t<12?"morning":t<18?"afternoon":"evening"];return s[Math.floor(Math.random()*s.length)]}(e)}),(0,t.jsxs)("p",{className:"text-sm opacity-60",style:{color:"var(--mood-text)"},children:[m,n.name&&(0,t.jsxs)(t.Fragment,{children:[" • Salut ",n.name," ! Comment tu te sens aujourd'hui ?"]})]})]}),w.length>0&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-6 border border-blue-200",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2 text-blue-800",children:[(0,t.jsx)("span",{className:"text-xl",children:"💊"}),"Mes rappels aujourd'hui (",w.length,")"]}),(0,t.jsx)("div",{className:"grid gap-3",children:w.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border-2 ".concat("now"===e.status?"bg-orange-100 border-orange-300":"missed"===e.status?"bg-red-100 border-red-300":"taken"===e.status?"bg-green-100 border-green-300":"bg-white border-blue-200"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl ".concat("now"===e.status?"⏰":"missed"===e.status?"⚠️":"taken"===e.status?"✅":"💊")}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-800",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.time})]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("span",{className:"text-sm font-medium ".concat("now"===e.status?"text-orange-700":"missed"===e.status?"text-red-700":"taken"===e.status?"text-green-700":"text-blue-700"),children:e.timeUntil})})]},e.id))})]}),C&&(0,t.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-2xl p-6 border border-orange-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"⏰"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-orange-800 mb-2",children:"Timing optimal"}),(0,t.jsx)("p",{className:"text-sm text-orange-700",children:C})]})]})}),N.length>0&&(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"var(--mood-text)"},children:[(0,t.jsx)("span",{className:"text-xl",children:"🎯"}),n.onboardingCompleted&&n.challenges.length>0?"Mes modules prioritaires (selon tes défis ADHD)":"Recommandé pour ton mood ".concat(c.label)]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N.map(e=>{var s;let a=e.moduleId||e.id,i=e.reason;return(0,t.jsx)("button",{onClick:()=>o(a),className:"\n                    p-4 rounded-xl border-2 transition-all hover:scale-105\n                    ".concat(c.bgColor," ").concat(c.textColor," border-current\n                    hover:shadow-lg\n                  "),children:(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:{chat:"💬 Chat Claude",reminders:"⏰ Rappels",cooking:"🍳 Cuisine",checklists:"📋 Checklists",finance:"💰 Finances",cleaning:"🧹 Ménage",health:"🏥 Santé",analytics:"📈 Analytics",tasks:"✅ Tâches",focus:"🎯 Focus"}[s=a]||s}),(0,t.jsx)("p",{className:"text-sm opacity-80",children:i})]})},a)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)("div",{className:"p-4 rounded-xl ".concat(c.bgColor," ").concat(c.textColor),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"💪"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-semibold",children:["Mode ",c.label]}),(0,t.jsx)("p",{className:"text-sm opacity-80",children:c.description})]})]})}),(0,t.jsx)("div",{className:"p-4 rounded-xl bg-white/70 backdrop-blur-sm border border-white/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"📅"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",style:{color:"var(--mood-text)"},children:"Aujourd'hui"}),(0,t.jsx)("p",{className:"text-sm opacity-70",style:{color:"var(--mood-text)"},children:d.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})]})]})}),(0,t.jsx)("div",{className:"p-4 rounded-xl bg-white/70 backdrop-blur-sm border border-white/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"🎯"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",style:{color:"var(--mood-text)"},children:n.onboardingCompleted&&n.challenges.length>0?"Focus: ".concat(n.challenges[0].replace("-"," ")):"Focus du jour"}),(0,t.jsx)("p",{className:"text-sm opacity-70",style:{color:"var(--mood-text)"},children:n.onboardingCompleted&&n.challenges.length>0?"Ton défi prioritaire":"Prendre soin de soi"})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(f,{}),(0,t.jsx)(y,{})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)(j,{}),(0,t.jsx)(v,{})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsx)("div",{className:"p-6 rounded-xl ".concat(c.bgColor," ").concat(c.textColor),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"💪"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Message motivationnel"}),(0,t.jsx)("p",{className:"text-sm opacity-90",children:function(e){let t=p[e].motivational;return t[Math.floor(Math.random()*t.length)]}(e)})]})]})}),(0,t.jsx)("div",{className:"p-6 rounded-xl bg-white/70 backdrop-blur-sm border",style:{borderColor:"var(--mood-border)"},children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"🤗"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",style:{color:"var(--mood-text)"},children:"Message de soutien"}),(0,t.jsx)("p",{className:"text-sm opacity-80",style:{color:"var(--mood-text)"},children:function(e){let t=p[e].supportive;return t[Math.floor(Math.random()*t.length)]}(e)})]})]})})]}),(0,t.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-6 border border-white/20",children:[(0,t.jsxs)("h3",{className:"font-semibold mb-4 flex items-center gap-2",style:{color:"var(--mood-text)"},children:[(0,t.jsx)("span",{className:"text-xl",children:"🚀"}),"Suggestions pour aujourd'hui"]}),(0,t.jsx)("div",{className:"space-y-3",children:(function(e){let t={energetic:[{icon:"🎯",text:"Commence une session de focus sur ton projet principal"},{icon:"📝",text:"Écris tes idées créatives du moment"},{icon:"🏃‍♀️",text:"Profite de cette énergie pour bouger un peu"}],normal:[{icon:"📋",text:"Révise ta liste de tâches et priorise"},{icon:"💬",text:"Parle à Claude de tes objectifs du jour"},{icon:"🧘‍♀️",text:"Prends 5 minutes pour méditer"}],tired:[{icon:"☕",text:"Bois un verre d'eau ou une tisane"},{icon:"🛏️",text:"Accorde-toi une sieste de 20 minutes"},{icon:"🎵",text:"Écoute de la musique relaxante"}],stressed:[{icon:"🫁",text:"Fais 3 respirations profondes maintenant"},{icon:"📝",text:"Écris ce qui te stresse pour vider ta tête"},{icon:"🚶‍♀️",text:"Sors prendre l'air 5 minutes"}],sad:[{icon:"🤗",text:"Contacte un proche qui te fait du bien"},{icon:"🎬",text:"Regarde quelque chose qui te réconforte"},{icon:"🛁",text:"Prends un bain ou une douche chaude"}]};return t[e]||t.normal})(e).map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50",children:[(0,t.jsx)("span",{className:"text-lg",children:e.icon}),(0,t.jsx)("p",{className:"text-sm text-slate-700",children:e.text})]},s))})]})]})}let w={energetic:["Tu as l'air en forme ! Qu'est-ce qu'on peut créer aujourd'hui ?","Super énergie ! Quel projet t'inspire le plus ?","Je sens cette motivation ! Par où on commence ?"],normal:["Salut ! Comment je peux t'aider aujourd'hui ?","Hello ! Qu'est-ce que tu aimerais faire ?","Coucou ! Dis-moi ce qui te préoccupe."],tired:["Hey... je vois que tu es fatigué. On y va doucement ?","Salut... pas besoin de forcer aujourd'hui, ok ?","Hello... et si on prenait les choses une par une ?"],stressed:["Je sens du stress... Respirons ensemble d'abord ?","Ça semble tendu... on peut simplifier les choses ?","Je vois que c'est compliqué... une chose à la fois ?"],sad:["Courage... Je suis là pour toi. Qu'est-ce qui se passe ?","Salut... tu n'es pas seul(e), je suis là.","Hey... c'est ok de ne pas aller bien. Je t'écoute."]};function C(e){let t=w[e];return t[Math.floor(Math.random()*t.length)]}function k(e,t){let s=e.name||"toi",a=h.CHRONOTYPES[e.chronotype],i=new Date().getHours(),r="";r="morning"===e.chronotype&&i<12?" ce matin":"evening"===e.chronotype&&i>=17?" ce soir":i<12?" ce matin":i<17?" cet après-midi":" ce soir";let n="";if(e.medications.length>0){let t=function(e){let t=new Date;for(let s of("".concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0")),e)){let e=s.time,a=parseInt(e.split(":")[0]),i=parseInt(e.split(":")[1]),r=new Date;r.setHours(a,i,0,0);let n=(r.getTime()-t.getTime())/36e5;if(n>0&&n<=2)return{...s,upcoming:!0}}return e.length>0?{...e[0],upcoming:!1}:null}(e.medications);t&&(n=" N'oublie pas ton ".concat(t.name," ").concat(t.upcoming?"bientôt":"si ce n'est pas déjà fait","."))}let l={energetic:["Salut ".concat(s," ! 🌟 Je sens une belle énergie").concat(r," !").concat(n," Qu'est-ce qu'on va accomplir ensemble ?"),"Hey ".concat(s," ! ⚡ Tu rayonnes").concat(r," ! ").concat(e.challenges.length>0?"Parfait pour s'attaquer à tes défis ".concat(e.challenges.map(e=>{var t;return null==(t=h.ADHD_CHALLENGES[e])?void 0:t.label}).slice(0,1)," !"):"Que puis-je faire pour toi ?"),"".concat(s," ! 🚀 Cette énergie").concat(r," est fantastique !").concat(n," Prêt pour une session productive ?")],normal:["Salut ".concat(s," !").concat(r.replace(" ce"," Bon")," 😊").concat(n," Comment ça va aujourd'hui ?"),"Hey ".concat(s," ! ").concat(a?"Vu que tu es ".concat(a.label.toLowerCase(),", c'est ").concat(S(e.chronotype,i)?"le bon moment":"peut-être pas ton heure de pointe, mais on peut quand même bien bosser"," !"):"Comment te sens-tu ?"),"Bonjour ".concat(s," !").concat(r," ✨ Je suis là pour t'accompagner. Dis-moi ce dont tu as besoin.")],tired:["Salut ".concat(s,"... 😴 Je vois que c'est un peu dur").concat(r,".").concat(n," Pas de pression, on y va à ton rythme."),"Hey ".concat(s," 💙 Fatigue").concat(r," ? ").concat("flexible"!==e.chronotype?"Normal, c'est ".concat(S(e.chronotype,i)?"pas":""," ton créneau habituel."):""," On peut prendre ça cool."),"".concat(s,", courage").concat(r," 🤗").concat(n," Qu'est-ce qui t'aiderait le plus maintenant ?")],stressed:["Salut ".concat(s," 💙 Je sens du stress").concat(r,"...").concat(n," Respire un coup, je suis là."),"Hey ".concat(s," 🫂 Ça semble tendu").concat(r,". ").concat(e.challenges.includes("emotional-regulation")?"Je sais que la gestion des émotions est un de tes défis, on va gérer ça ensemble.":"On va décompresser ensemble."),"".concat(s,", tout va bien se passer 🌸").concat(n," Dis-moi ce qui te tracasse.")],sad:["Salut ".concat(s," 💜").concat(r,"... Je suis là pour toi.").concat(n," Pas besoin d'être fort en permanence."),"Hey ".concat(s," 🤗 Jour difficile").concat(r," ? ").concat(e.challenges.includes("emotional-regulation")?"Les émotions sont complexes avec le ADHD, c'est normal.":"C'est ok de ne pas aller bien."," Je t'écoute."),"".concat(s," 💙 Prends ton temps").concat(r,".").concat(n," Tu veux en parler ou juste qu'on fasse quelque chose ensemble ?")]}[t],o=Math.floor(Math.random()*l.length);return l[o]}function S(e,t){var s;return((null==(s=h.CHRONOTYPES[e])?void 0:s.peakHours)||[]).includes(t)}function q(){let{currentMood:e,getMoodConfig:a}=(0,i.useMood)(),{profile:r}=(0,u.useProfile)(),{settings:n}=(0,x.useAppSettings)(),[l,o]=(0,s.useState)([]),[c,d]=(0,s.useState)(""),[m,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),b=(0,s.useRef)(null),j=(0,s.useRef)(null),v=a();(0,s.useEffect)(()=>{var e;null==(e=b.current)||e.scrollIntoView({behavior:"smooth"})},[l]),(0,s.useEffect)(()=>{let t=localStorage.getItem("adhd-chat-messages");if(t)o(JSON.parse(t));else{let t=r.name&&r.onboardingCompleted?k(r,e):C(e);o([{id:Date.now().toString(),role:"assistant",content:t,timestamp:Date.now(),mood:e}])}},[e]),(0,s.useEffect)(()=>{l.length>0&&localStorage.setItem("adhd-chat-messages",JSON.stringify(l))},[l]);let f=async()=>{if(!c.trim()||m)return;let t={id:Date.now().toString(),role:"user",content:c.trim(),timestamp:Date.now(),mood:e},s=[...l,t];o(s),d(""),p(!0),g(null);try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t.content,mood:e,conversationHistory:l.slice(-10),userProfile:r,appSettings:n})});if(!a.ok)throw Error("Failed to send message");if(!a.body)throw Error("No response body");let i=a.body.getReader(),c=new TextDecoder,d={id:(Date.now()+1).toString(),role:"assistant",content:"",timestamp:Date.now(),mood:e};for(o([...s,d]);;){let{done:e,value:t}=await i.read();if(e)break;for(let e of c.decode(t).split("\n"))if(e.startsWith("data: ")){let t=e.slice(6);if("[DONE]"===t)return void p(!1);try{let e=JSON.parse(t);e.text&&o(t=>{let s=[...t],a=s[s.length-1];return a&&"assistant"===a.role&&(a.content+=e.text),s})}catch(e){}}}}catch(t){o([...s,{id:(Date.now()+1).toString(),role:"assistant",content:r&&r.name?function(e,t){let s=e.name||"toi";return({energetic:"".concat(s,", petit souci technique mais ça ne nous arrêtera pas ! Qu'est-ce que tu voulais me dire ?"),normal:"Désolé ".concat(s,", petit problème de connexion. Tu peux reformuler ?"),tired:"".concat(s,"... petit bug technique. Pas de stress, reprends quand tu peux."),stressed:"".concat(s,", oups... petit problème technique. Respire, on réessaye ?"),sad:"Pardon ".concat(s,"... problème technique. Je suis toujours là pour toi.")})[t]}(r,e):({energetic:"Oups ! Il y a eu un petit souci technique, mais ça ne va pas nous arrêter ! Qu'est-ce que tu voulais me dire ?",normal:"Désolé, j'ai rencontré un problème technique. Peux-tu reformuler ta question ?",tired:"Ah... il y a eu un petit problème de connexion. Pas de stress, reprends quand tu veux...",stressed:"Oups, un petit bug... mais ça va, respire. On peut réessayer calmement ?",sad:"Je suis désolé... il y a eu un problème technique. Je suis toujours là pour toi, réessaye quand tu peux..."})[e],timestamp:Date.now(),mood:e}]),g(null)}finally{p(!1)}};return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto h-[600px] flex flex-col rounded-2xl border border-slate-200 bg-white/50 backdrop-blur-sm shadow-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-slate-200 ".concat(v.bgColor," ").concat(v.textColor),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:n.avatar||v.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:r.name?"Assistant de ".concat(r.name):"Assistant Claude"}),(0,t.jsxs)("p",{className:"text-sm opacity-80",children:["Mode ",v.label,r.name&&r.onboardingCompleted&&(0,t.jsxs)(t.Fragment,{children:[r.chronotype&&(0,t.jsxs)(t.Fragment,{children:[" • ","morning"===r.chronotype?"🌅 Matinal":"evening"===r.chronotype?"🦉 Nocturne":"😴 Flexible"]}),r.medications.length>0&&(0,t.jsxs)(t.Fragment,{children:[" • ",r.medications.length," médication",r.medications.length>1?"s":""]})]})]})]})]}),(0,t.jsx)("button",{onClick:()=>{o([]),localStorage.removeItem("adhd-chat-messages");let t=r.name&&r.onboardingCompleted?k(r,e):C(e);o([{id:Date.now().toString(),role:"assistant",content:t,timestamp:Date.now(),mood:e}])},className:"text-sm px-3 py-1 rounded-lg hover:bg-white/20 transition-colors",children:"Nouveau chat"})]})}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map(e=>(0,t.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,t.jsxs)("div",{className:"max-w-[80%] rounded-2xl px-4 py-3 ".concat("user"===e.role?"".concat(v.bgColor," ").concat(v.textColor," ml-auto"):"bg-slate-100 text-slate-800"),children:[(0,t.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),(0,t.jsx)("p",{className:"text-xs opacity-60 mt-1",children:new Date(e.timestamp).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]})},e.id)),m&&(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)("div",{className:"bg-slate-100 rounded-2xl px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("div",{className:"flex space-x-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),(0,t.jsx)("span",{className:"text-sm text-slate-600",children:"Claude réfléchit..."})]})})}),h&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"bg-red-100 text-red-700 rounded-2xl px-4 py-3 text-sm",children:h})}),(0,t.jsx)("div",{ref:b})]}),(0,t.jsx)("div",{className:"p-4 border-t border-slate-200 bg-white/70",children:(0,t.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("input",{ref:j,type:"text",value:c,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f())},placeholder:r.name?"Salut ".concat(r.name,", que puis-je faire pour toi ?"):"Tapez votre message...",disabled:m,className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",style:{"--focus-ring-color":"var(--mood-primary)"}})}),(0,t.jsx)("button",{onClick:f,disabled:!c.trim()||m,className:"px-6 py-3 rounded-xl font-medium transition-all disabled:opacity-50 disabled:cursor-not-allowed ".concat(v.textColor," ").concat(v.bgColor," ").concat(v.hoverColor),children:m?"⏳":"📤"})]})})]})}function T(e){let{onClose:a}=e,{getMoodConfig:r}=(0,i.useMood)(),{addReminder:n}=(0,b.useReminders)(),l=r(),[o,c]=(0,s.useState)({name:"",time:"08:00",frequency:"daily",icon:"💊"});return(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:"Nouveau rappel"}),(0,t.jsx)("button",{onClick:a,className:"text-slate-400 hover:text-slate-600 text-xl",children:"✕"})]}),(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.name.trim()&&(n(o),a())},className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nom du médicament"}),(0,t.jsx)("input",{type:"text",value:o.name,onChange:e=>c(t=>({...t,name:e.target.value})),placeholder:"ex: Medikinet, Magnésium...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Heure"}),(0,t.jsx)("input",{type:"time",value:o.time,onChange:e=>c(t=>({...t,time:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fréquence"}),(0,t.jsx)("select",{value:o.frequency,onChange:e=>c(t=>({...t,frequency:e.target.value})),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[{value:"daily",label:"Tous les jours"},{value:"weekly",label:"Chaque semaine"},{value:"monthly",label:"Chaque mois"},{value:"once",label:"Une seule fois"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Icône"}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2",children:b.MEDICATION_ICONS.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>c(t=>({...t,icon:e})),className:"p-3 rounded-xl border-2 text-2xl transition-all ".concat(o.icon===e?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-slate-300"),children:e},e))})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 text-slate-600 hover:bg-slate-50 transition-colors",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-3 rounded-xl font-medium text-white transition-colors ".concat(l.bgColor.replace("bg-","bg-").replace("-50","-500")," hover:opacity-90"),style:{backgroundColor:"var(--mood-primary)"},children:"Créer"})]})]})]})})}function D(){let{getMoodConfig:e}=(0,i.useMood)(),{reminders:a,markAsTaken:r,snoozeReminder:l,deleteReminder:o,getTodaysReminders:c}=(0,b.useReminders)(),[d,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(Date.now()),[p,h]=(0,s.useState)(!1);e();let g=c();(0,s.useEffect)(()=>{let e=setInterval(()=>{x(Date.now())},6e4);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{let e=()=>{h("granted"===Notification.permission)};e();let t=setInterval(e,5e3);return()=>clearInterval(t)},[]);let j=async()=>{h(await n.notificationService.requestPermission())},v=async()=>{await n.notificationService.showTestNotification()},f=e=>{let[t,s]=e.time.split(":").map(Number),a=new Date;a.setHours(t,s,0,0);let i=new Date;return a<i&&(!e.lastTaken||!y(new Date(e.lastTaken),i))},y=(e,t)=>e.toDateString()===t.toDateString();return(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",style:{color:"var(--mood-text)"},children:"Rappels médicaments"}),(0,t.jsxs)("p",{className:"text-sm opacity-80",style:{color:"var(--mood-text)"},children:[g.length," rappel",1!==g.length?"s":""," aujourd'hui"]})]}),(0,t.jsx)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium transition-colors",style:{backgroundColor:"var(--mood-primary)",color:"white"},children:"➕ Nouveau rappel"})]}),!p&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-xl",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"🔔"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-orange-800",children:"Notifications désactivées"}),(0,t.jsx)("p",{className:"text-sm text-orange-600",children:"Autorisez les notifications pour recevoir vos rappels de médicaments."})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:v,className:"text-sm px-3 py-1 rounded-lg bg-orange-100 text-orange-700 hover:bg-orange-200 transition-colors",children:"Test"}),(0,t.jsx)("button",{onClick:j,className:"text-sm px-3 py-1 rounded-lg bg-orange-600 text-white hover:bg-orange-700 transition-colors",children:"Activer"})]})]})}),0===g.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"💊"}),(0,t.jsx)("p",{className:"text-lg font-medium",style:{color:"var(--mood-text)"},children:"Aucun rappel configuré"}),(0,t.jsx)("p",{className:"text-sm opacity-70 mt-2",style:{color:"var(--mood-text)"},children:"Ajoutez votre premier rappel de médicament"})]}):(0,t.jsx)("div",{className:"space-y-3",children:g.map(e=>{var s;let a=(e=>{let t=new Date;if(e.lastTaken&&y(new Date(e.lastTaken),t))return{text:"Pris ✅",color:"text-green-600"};if(e.snoozedUntil&&e.snoozedUntil>Date.now()){let t=new Date(e.snoozedUntil);return{text:"Snooze ".concat(t.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})," ⏰"),color:"text-orange-600"}}return f(e)?{text:"En retard ⚠️",color:"text-red-600"}:{text:"Programmé",color:"text-slate-600"}})(e),i=f(e);return(0,t.jsx)("div",{className:"p-4 rounded-xl border transition-all ".concat(i?"border-red-200 bg-red-50":"border-slate-200 bg-white/70"),children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-slate-800",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,t.jsxs)("span",{className:"text-slate-600",children:[e.time," • ",{daily:"Quotidien",weekly:"Hebdomadaire",monthly:"Mensuel",once:"Une fois"}[s=e.frequency]||s]}),(0,t.jsx)("span",{className:a.color,children:a.text})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(!e.lastTaken||!y(new Date(e.lastTaken),new Date))&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>r(e.id),className:"px-3 py-1 text-sm rounded-lg bg-green-100 text-green-700 hover:bg-green-200 transition-colors",children:"Pris ✅"}),(0,t.jsx)("button",{onClick:()=>l(e.id,15),className:"px-3 py-1 text-sm rounded-lg bg-orange-100 text-orange-700 hover:bg-orange-200 transition-colors",children:"15min ⏰"}),(0,t.jsx)("button",{onClick:()=>l(e.id,60),className:"px-3 py-1 text-sm rounded-lg bg-blue-100 text-blue-700 hover:bg-blue-200 transition-colors",children:"1h ⏰"})]}),(0,t.jsx)("button",{onClick:()=>o(e.id),className:"px-2 py-1 text-sm rounded-lg text-red-500 hover:bg-red-50 transition-colors",children:"🗑️"})]})]})},e.id)})}),d&&(0,t.jsx)(T,{onClose:()=>m(!1)})]})}let A=[{id:"energetic",emoji:"💪",label:"Motivé(e)",description:"J'ai envie de cuisiner !",color:"emerald"},{id:"normal",emoji:"😊",label:"Normal",description:"Une cuisine équilibrée",color:"blue"},{id:"tired",emoji:"😴",label:"Fatigué(e)",description:"Quelque chose de simple",color:"purple"},{id:"stressed",emoji:"😰",label:"Stressé(e)",description:"Cuisine apaisante",color:"orange"},{id:"sad",emoji:"😢",label:"Pas terrible",description:"Plats réconfortants",color:"slate"},{id:"not-feeling-it",emoji:"🚫",label:"Pas envie",description:"Alternatives sans effort",color:"gray"}];function R(e){var s,a;let{selectedMood:r,onMoodSelect:n}=e,{getMoodConfig:l}=(0,i.useMood)(),o=l();return(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Comment tu te sens pour cuisiner ? 🍳"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Je vais adapter mes suggestions à ton état d'esprit"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(e=>(0,t.jsx)("button",{onClick:()=>n(e.id),className:"\n              p-4 rounded-xl border-2 transition-all hover:scale-105 active:scale-95\n              ".concat(r===e.id?"".concat(o.bgColor," ").concat(o.textColor," border-current shadow-lg"):"border-slate-200 bg-white hover:border-slate-300 hover:shadow-md","\n            "),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:e.emoji}),(0,t.jsx)("h3",{className:"font-semibold mb-1 ".concat(r===e.id?"":"text-slate-800"),children:e.label}),(0,t.jsx)("p",{className:"text-sm ".concat(r===e.id?"opacity-80":"text-slate-600"),children:e.description})]})},e.id))}),r&&(0,t.jsx)("div",{className:"text-center mt-6",children:(0,t.jsxs)("div",{className:"\n            inline-flex items-center px-6 py-3 rounded-full\n            ".concat(o.bgColor," ").concat(o.textColor,"\n            transition-all duration-500 ease-out\n          "),children:[(0,t.jsx)("span",{className:"text-xl mr-3",children:null==(s=A.find(e=>e.id===r))?void 0:s.emoji}),(0,t.jsxs)("span",{className:"font-medium",children:["Mood cuisine : ",null==(a=A.find(e=>e.id===r))?void 0:a.label]})]})})]})}let P=[{id:"risotto-mushroom",name:"Risotto aux champignons",description:"Crémeux et réconfortant, parfait quand on a envie de cuisiner",emoji:"🍄",difficulty:"medium",cookingTime:35,prepTime:15,servings:4,ingredients:[{id:"1",name:"Riz arborio",quantity:"300",unit:"g"},{id:"2",name:"Champignons de Paris",quantity:"500",unit:"g"},{id:"3",name:"Bouillon de légumes",quantity:"1",unit:"L"},{id:"4",name:"Parmesan râpé",quantity:"100",unit:"g"},{id:"5",name:"Vin blanc sec",quantity:"150",unit:"ml"},{id:"6",name:"Oignon",quantity:"1"},{id:"7",name:"Ail",quantity:"2",unit:"gousses"}],steps:[{id:"1",instruction:"Émincez l'oignon et l'ail, coupez les champignons en lamelles",duration:10},{id:"2",instruction:"Faites chauffer le bouillon dans une casserole",duration:5},{id:"3",instruction:"Dans une grande poêle, faites revenir l'oignon jusqu'à transparence",duration:5},{id:"4",instruction:"Ajoutez le riz et mélangez 2 minutes jusqu'à nacrage",duration:2},{id:"5",instruction:"Versez le vin blanc et laissez évaporer",duration:3},{id:"6",instruction:"Ajoutez le bouillon louche par louche en mélangeant",duration:20,tips:"Patience, c'est le secret du risotto !"},{id:"7",instruction:"Incorporez champignons et parmesan, assaisonnez",duration:5}],tags:["italien","végétarien","réconfortant"],moodCompatibility:["energetic","normal"],mealTypes:["dinner","lunch"],isComfort:!0,isBatchCookable:!0,energy:"medium"},{id:"wok-vegetables",name:"Wok de légumes sautés",description:"Coloré et dynamique, idéal pour canaliser ton énergie !",emoji:"🥢",difficulty:"easy",cookingTime:15,prepTime:20,servings:2,ingredients:[{id:"1",name:"Mélange de légumes surgelés",quantity:"400",unit:"g"},{id:"2",name:"Sauce soja",quantity:"3",unit:"c. à soupe"},{id:"3",name:"Huile de sésame",quantity:"2",unit:"c. à soupe"},{id:"4",name:"Gingembre frais",quantity:"2",unit:"cm"},{id:"5",name:"Ail",quantity:"2",unit:"gousses"},{id:"6",name:"Riz basmati",quantity:"200",unit:"g",isOptional:!0}],steps:[{id:"1",instruction:"Hachez ail et gingembre finement",duration:5},{id:"2",instruction:"Faites chauffer l'huile dans le wok à feu vif",duration:2},{id:"3",instruction:"Ajoutez ail et gingembre, faites sauter 30 secondes",duration:1},{id:"4",instruction:"Jetez les légumes, sautez 8-10 minutes en remuant",duration:10},{id:"5",instruction:"Ajoutez sauce soja, mélangez et servez",duration:2}],tags:["asiatique","végétarien","rapide"],moodCompatibility:["energetic","normal"],mealTypes:["dinner","lunch"],isComfort:!1,isBatchCookable:!0,energy:"high"},{id:"pasta-simple",name:"Pâtes sauce tomate basilic",description:"Le réconfort en 10 minutes, rien de plus simple",emoji:"🍝",difficulty:"easy",cookingTime:10,prepTime:5,servings:2,ingredients:[{id:"1",name:"Pâtes (spaghetti ou penne)",quantity:"250",unit:"g"},{id:"2",name:"Sauce tomate en bocal",quantity:"400",unit:"g"},{id:"3",name:"Parmesan râpé",quantity:"50",unit:"g"},{id:"4",name:"Basilic séché",quantity:"1",unit:"c. à thé"},{id:"5",name:"Huile d'olive",quantity:"2",unit:"c. à soupe"}],steps:[{id:"1",instruction:"Mettez l'eau des pâtes à bouillir avec du sel",duration:5},{id:"2",instruction:"Cuisez les pâtes selon les instructions du paquet",duration:8},{id:"3",instruction:"Pendant ce temps, réchauffez la sauce avec basilic",duration:5},{id:"4",instruction:"Égouttez les pâtes, mélangez avec sauce et parmesan",duration:2}],tags:["italien","réconfortant","facile"],moodCompatibility:["tired","normal","stressed"],mealTypes:["dinner","lunch"],isComfort:!0,isBatchCookable:!1,energy:"low"},{id:"grilled-cheese",name:"Croque-monsieur express",description:"Réconfortant et chaud, parfait pour les soirs difficiles",emoji:"🥪",difficulty:"easy",cookingTime:8,prepTime:5,servings:1,ingredients:[{id:"1",name:"Pain de mie",quantity:"2",unit:"tranches"},{id:"2",name:"Jambon",quantity:"2",unit:"tranches"},{id:"3",name:"Fromage râpé",quantity:"50",unit:"g"},{id:"4",name:"Beurre",quantity:"1",unit:"noix"}],steps:[{id:"1",instruction:"Tartinez le pain de beurre d'un côté",duration:2},{id:"2",instruction:"Garnissez: jambon et fromage entre les tranches",duration:2},{id:"3",instruction:"Faites dorer 3-4 min de chaque côté à la poêle",duration:8}],tags:["rapide","réconfortant","enfance"],moodCompatibility:["tired","sad","stressed"],mealTypes:["dinner","lunch"],isComfort:!0,isBatchCookable:!1,energy:"low"},{id:"soup-comfort",name:"Soupe veloutée carottes-gingembre",description:"Apaisante à préparer et réconfortante à déguster",emoji:"🍲",difficulty:"easy",cookingTime:25,prepTime:10,servings:4,ingredients:[{id:"1",name:"Carottes",quantity:"600",unit:"g"},{id:"2",name:"Pommes de terre",quantity:"2"},{id:"3",name:"Oignon",quantity:"1"},{id:"4",name:"Gingembre frais",quantity:"3",unit:"cm"},{id:"5",name:"Bouillon de légumes",quantity:"1",unit:"L"},{id:"6",name:"Crème fraîche",quantity:"100",unit:"ml",isOptional:!0}],steps:[{id:"1",instruction:"Épluchez et coupez légumes en morceaux (méditation)",duration:10,tips:"Prenez votre temps, c'est relaxant"},{id:"2",instruction:"Faites revenir l'oignon dans un peu d'huile",duration:5},{id:"3",instruction:"Ajoutez légumes et gingembre, couvrez de bouillon",duration:3},{id:"4",instruction:"Laissez mijoter 20 min jusqu'à tendreté",duration:20,tips:"Profitez de l'odeur qui embaume"},{id:"5",instruction:"Mixez, ajoutez la crème, assaisonnez",duration:5}],tags:["végétarien","réconfortant","healthy"],moodCompatibility:["stressed","sad","normal"],mealTypes:["dinner","lunch"],isComfort:!0,isBatchCookable:!0,energy:"low"},{id:"chicken-rice",name:"Poulet sauté riz sauté",description:"Équilibré et savoureux, parfait pour une journée normale",emoji:"🍚",difficulty:"medium",cookingTime:20,prepTime:15,servings:3,ingredients:[{id:"1",name:"Blanc de poulet",quantity:"400",unit:"g"},{id:"2",name:"Riz basmati cuit",quantity:"300",unit:"g"},{id:"3",name:"Petits pois surgelés",quantity:"100",unit:"g"},{id:"4",name:"Œufs",quantity:"2"},{id:"5",name:"Sauce soja",quantity:"3",unit:"c. à soupe"},{id:"6",name:"Huile végétale",quantity:"2",unit:"c. à soupe"}],steps:[{id:"1",instruction:"Découpez le poulet en lamelles",duration:5},{id:"2",instruction:"Faites cuire le poulet à la poêle jusqu'à doré",duration:8},{id:"3",instruction:"Battez les œufs et faites-les brouiller",duration:3},{id:"4",instruction:"Ajoutez riz, petits pois et sauce soja",duration:5},{id:"5",instruction:"Mélangez tout ensemble 2 minutes",duration:2}],tags:["protéiné","équilibré","asiatique"],moodCompatibility:["normal","energetic"],mealTypes:["dinner","lunch"],isComfort:!1,isBatchCookable:!0,energy:"medium"}],M=[{id:"delivery-comfort",type:"delivery",name:"Commande ton plat réconfort",description:"C'est ok de ne pas cuisiner, tu as le droit !",emoji:"🛵",estimatedTime:30,mood:["tired","sad","stressed","not-feeling-it"]},{id:"prepared-meal",type:"prepared",name:"Plat préparé du frigo",description:"Une solution rapide et sans effort",emoji:"📦",estimatedTime:5,mood:["tired","not-feeling-it"]},{id:"snack-dinner",type:"snack",name:"Plateau apéro dînatoire",description:"Fromage, pain, fruits... parfois c'est parfait !",emoji:"🧀",estimatedTime:10,mood:["tired","sad","not-feeling-it"]},{id:"takeout-fresh",type:"takeout",name:"Salade / sandwich frais",description:"Va chercher quelque chose de frais et bon",emoji:"🥗",estimatedTime:15,mood:["normal","energetic"]}],I={energetic:{greeting:"Tu es en forme ! 💪 Envie de cuisiner quelque chose de sympa ?",suggestion:"C'est le moment parfait pour tester une nouvelle recette ou faire du batch cooking !",recipes:P.filter(e=>e.moodCompatibility.includes("energetic")),alternatives:M.filter(e=>e.mood.includes("energetic"))},normal:{greeting:"Comment tu te sens pour cuisiner ce soir ? 😊",suggestion:"Une cuisine équilibrée qui fait du bien sans se prendre la tête.",recipes:P.filter(e=>e.moodCompatibility.includes("normal")),alternatives:M.filter(e=>e.mood.includes("normal"))},tired:{greeting:"Mode douceur cuisine activé 💙",suggestion:"Des solutions simples et réconfortantes, pas de pression !",recipes:P.filter(e=>e.moodCompatibility.includes("tired")),alternatives:M.filter(e=>e.mood.includes("tired"))},stressed:{greeting:"Cuisine apaisante pour se détendre 🌿",suggestion:"Des préparations méditatives et des plats familiers qui sentent bon.",recipes:P.filter(e=>e.moodCompatibility.includes("stressed")),alternatives:M.filter(e=>e.mood.includes("stressed"))},sad:{greeting:"Petit cocon cuisine pour prendre soin de toi 💜",suggestion:"Des plats doudou qui réchauffent le cœur, sans effort.",recipes:P.filter(e=>e.moodCompatibility.includes("sad")),alternatives:M.filter(e=>e.mood.includes("sad"))},"not-feeling-it":{greeting:"Pas envie du tout ? C'est ok ! 🤗",suggestion:"Zéro culpabilité, voici des alternatives sans effort.",recipes:[],alternatives:M.filter(e=>e.mood.includes("not-feeling-it"))}};function E(e){let{cookingMood:s,onRecipeSelect:a,onAlternativeSelect:r}=e,{getMoodConfig:n}=(0,i.useMood)(),l=n(),o=I[s];return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"p-6 rounded-xl ".concat(l.bgColor," ").concat(l.textColor),children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-2",children:o.greeting}),(0,t.jsx)("p",{className:"opacity-90",children:o.suggestion})]}),o.recipes.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--mood-text)"},children:"Recettes suggérées ✨"}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.recipes.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-xl p-6 border border-slate-200 hover:shadow-lg transition-all hover:scale-105 cursor-pointer",onClick:()=>a(e),children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"text-4xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("h4",{className:"font-bold text-slate-800",children:e.name}),e.isComfort&&(0,t.jsx)("span",{className:"text-xs px-2 py-1 bg-pink-100 text-pink-700 rounded-full",children:"💝 Réconfortant"})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded-full ".concat((e=>{switch(e){case"easy":return"text-green-600 bg-green-100";case"medium":return"text-orange-600 bg-orange-100";case"hard":return"text-red-600 bg-red-100";default:return"text-slate-600 bg-slate-100"}})(e.difficulty)),children:"easy"===e.difficulty?"😌 Facile":"medium"===e.difficulty?"🤔 Moyen":"😤 Difficile"}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full ".concat((e=>{switch(e){case"low":return"text-blue-600 bg-blue-100";case"medium":return"text-purple-600 bg-purple-100";case"high":return"text-pink-600 bg-pink-100";default:return"text-slate-600 bg-slate-100"}})(e.energy)),children:"low"===e.energy?"🔋 Peu d'énergie":"medium"===e.energy?"🔋🔋 Énergie modérée":"🔋🔋🔋 Haute énergie"}),(0,t.jsxs)("span",{className:"text-slate-500",children:["⏱️ ",e.prepTime+e.cookingTime," min"]}),(0,t.jsxs)("span",{className:"text-slate-500",children:["👥 ",e.servings," pers."]})]}),e.isBatchCookable&&(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:"📦 Batch cooking possible"})})]})]})},e.id))})]}),o.alternatives.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold mb-4",style:{color:"var(--mood-text)"},children:"not-feeling-it"===s?"Alternatives sans effort 🤗":"Ou alors... 💡"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.alternatives.map(e=>(0,t.jsx)("button",{onClick:()=>r(e),className:"bg-slate-50 rounded-xl p-4 border border-slate-200 hover:bg-slate-100 transition-colors text-left",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-slate-800",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-1",children:e.description}),(0,t.jsxs)("span",{className:"text-xs text-slate-500",children:["⏱️ ~",e.estimatedTime," min"]})]})]})},e.id))})]}),(0,t.jsx)("div",{className:"text-center p-6 bg-white/70 backdrop-blur-sm rounded-xl border border-white/20",children:(0,t.jsx)("p",{className:"text-sm opacity-80",style:{color:"var(--mood-text)"},children:{energetic:"Profite de cette énergie ! C'est le moment parfait pour essayer quelque chose de nouveau ou préparer plusieurs repas d'avance. 🚀",normal:"Une cuisine équilibrée fait du bien au corps et à l'esprit. Prends ton temps et savoure le processus ! 😌",tired:"C'est ok d'être fatigué(e). L'important c'est de te nourrir, peu importe comment. Sois doux/douce avec toi-même. 💙",stressed:"La cuisine peut être méditative. Respire, prends ton temps, et laisse les odeurs et gestes t'apaiser. 🌿",sad:"Les plats réconfortants ont le pouvoir de réchauffer le cœur. Tu mérites de prendre soin de toi, même les jours difficiles. 💜","not-feeling-it":"Absolument aucune culpabilité ! Parfois on n'a pas envie de cuisiner et c'est parfaitement normal. Tu fais ce qu'il faut pour toi. 🤗"}[s]})})]})}function O(e){let{recipe:a,onBack:r}=e,{getMoodConfig:n}=(0,i.useMood)(),l=n(),[o,c]=(0,s.useState)(0),[d,m]=(0,s.useState)([]),[u,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>()=>{d.forEach(e=>{e.isActive})},[d]);let p=a.steps[o],h=d.filter(e=>e.isActive);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-white/50 transition-colors",children:"← Retour"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:a.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--mood-text)"},children:a.name}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:a.description})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white/70 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"⏱️"}),(0,t.jsx)("div",{className:"font-semibold",style:{color:"var(--mood-text)"},children:(e=>{if(e<60)return"".concat(e," min");let t=Math.floor(e/60),s=e%60;return"".concat(t,"h").concat(s>0?s.toString().padStart(2,"0"):"")})(a.prepTime+a.cookingTime)}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Total"})]}),(0,t.jsxs)("div",{className:"bg-white/70 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"👥"}),(0,t.jsxs)("div",{className:"font-semibold",style:{color:"var(--mood-text)"},children:[a.servings," pers."]}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Portions"})]}),(0,t.jsxs)("div",{className:"bg-white/70 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"📊"}),(0,t.jsx)("div",{className:"font-semibold",style:{color:"var(--mood-text)"},children:"easy"===a.difficulty?"Facile":"medium"===a.difficulty?"Moyen":"Difficile"}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Difficulté"})]}),(0,t.jsxs)("div",{className:"bg-white/70 p-4 rounded-xl text-center",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"🔋"}),(0,t.jsx)("div",{className:"font-semibold",style:{color:"var(--mood-text)"},children:"low"===a.energy?"Peu":"medium"===a.energy?"Modérée":"Haute"}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Énergie"})]})]}),h.length>0&&(0,t.jsxs)("div",{className:"p-4 rounded-xl ".concat(l.bgColor," ").concat(l.textColor),children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"⏰ Timers actifs"}),h.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name}),(0,t.jsxs)("span",{className:"opacity-80",children:["- ",Math.ceil((e.duration-(Date.now()-e.startTime)/1e3)/60)," min restantes"]})]},e.id))]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--mood-text)"},children:"🛒 Ingrédients"}),(0,t.jsx)("div",{className:"bg-white/70 rounded-xl p-6",children:(0,t.jsx)("div",{className:"space-y-3",children:a.ingredients.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-slate-300 rounded"}),(0,t.jsxs)("span",{className:"flex-1",children:[(0,t.jsxs)("span",{className:"font-medium",children:[e.quantity," ",e.unit]})," ",e.name,e.isOptional&&(0,t.jsx)("span",{className:"text-xs text-slate-500 ml-2",children:"(optionnel)"})]})]},e.id))})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--mood-text)"},children:["👨‍🍳 Étapes (",o+1,"/",a.steps.length,")"]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl ".concat(l.bgColor," ").concat(l.textColor," mb-4"),children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center font-bold",children:o+1}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium mb-2",children:p.instruction}),p.duration&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)("span",{className:"text-sm opacity-80",children:["⏱️ ",p.duration," min"]}),(0,t.jsx)("button",{onClick:()=>((e,t)=>{let s={id:Date.now().toString(),name:"Étape ".concat(o+1),duration:60*t,startTime:Date.now(),isActive:!0,isCompleted:!1};m(e=>[...e,s]),setTimeout(()=>{m(e=>e.map(e=>e.id===s.id?{...e,isActive:!1,isCompleted:!0}:e))},60*t*1e3)})(p.id,p.duration),className:"text-xs px-2 py-1 bg-white/20 rounded hover:bg-white/30 transition-colors",children:"Démarrer timer"})]}),p.tips&&(0,t.jsxs)("p",{className:"text-sm opacity-90 italic",children:["💡 ",p.tips]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{onClick:()=>{o>0&&c(o-1)},disabled:0===o,className:"px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"← Précédent"}),o===a.steps.length-1?(0,t.jsx)("div",{className:"px-4 py-2 rounded-lg bg-green-500 text-white font-medium",children:"✨ Terminé !"}):(0,t.jsx)("button",{onClick:()=>{o<a.steps.length-1&&c(o+1)},className:"px-4 py-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:"Suivant →"})]})]}),(0,t.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300",style:{backgroundColor:"var(--mood-primary)",width:"".concat((o+1)/a.steps.length*100,"%")}})})]})]}),(0,t.jsx)("div",{className:"text-center p-6 bg-white/70 backdrop-blur-sm rounded-xl border border-white/20",children:(0,t.jsxs)("p",{className:"text-sm opacity-80",style:{color:"var(--mood-text)"},children:[0===o&&"Tu vas y arriver ! Prends ton temps et profite du processus 😊",o>0&&o<a.steps.length-1&&"Super ! Tu es sur la bonne voie, continue comme ça ! 💪",o===a.steps.length-1&&"Bravo ! Tu as réussi à préparer ce délicieux plat ! 🎉"]})})]})}function z(){let[e,a]=(0,s.useState)("mood-selection"),[i,r]=(0,s.useState)(null),[n,l]=(0,s.useState)(null),[o,c]=(0,s.useState)(null),d=e=>{r(e),a("recipe-list")},m=e=>{l(e),a("recipe-detail")},u=e=>{c(e),a("alternative-selected")},x=()=>{"recipe-detail"===e?(a("recipe-list"),l(null)):("recipe-list"===e||"alternative-selected"===e)&&(a("mood-selection"),r(null),c(null))};return(0,t.jsx)("div",{className:"w-full max-w-6xl mx-auto",children:(()=>{switch(e){case"mood-selection":return(0,t.jsx)(R,{selectedMood:i,onMoodSelect:d});case"recipe-list":return i?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,t.jsx)("button",{onClick:x,className:"p-2 rounded-lg hover:bg-white/50 transition-colors",children:"← Retour"}),(0,t.jsx)("h2",{className:"text-xl font-bold",style:{color:"var(--mood-text)"},children:"Suggestions cuisine"})]}),(0,t.jsx)(E,{cookingMood:i,onRecipeSelect:m,onAlternativeSelect:u})]}):null;case"recipe-detail":return n?(0,t.jsx)(O,{recipe:n,onBack:x}):null;case"alternative-selected":return o?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:o.emoji}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:o.name}),(0,t.jsx)("p",{className:"text-lg opacity-80 mb-6",style:{color:"var(--mood-text)"},children:o.description}),(0,t.jsxs)("p",{className:"text-sm opacity-60 mb-8",style:{color:"var(--mood-text)"},children:["Temps estimé : ~",o.estimatedTime," minutes"]}),(0,t.jsx)("div",{className:"space-y-4",children:(function(e){switch(e.type){case"delivery":return["Ouvre ton app de livraison favorite (Uber Eats, Deliveroo...)","Choisis ton plat réconfort préféré","Commande et détends-toi en attendant","Aucune culpabilité ! Parfois on a besoin de ça 💙"];case"prepared":return["Regarde dans ton frigo/congélateur","Choisis un plat préparé qui te fait envie","Réchauffe selon les instructions","Ajoute éventuellement un fruit ou légume frais"];case"snack":return["Sors fromage, pain, fruits de ton frigo","Ajoute olives, tomates cerises, jambon si tu en as","Dispose joliment sur une assiette","Un plateau apéro, c'est un vrai repas ! 🧀"];case"takeout":return["Trouve le commerce le plus proche (boulangerie, traiteur...)","Va chercher une salade, sandwich ou plat du jour","Profite de la petite balade à pied","Parfois sortir fait du bien au moral ! ☀️"];default:return["Choisis l'option qui te convient le mieux aujourd'hui"]}})(o).map((e,s)=>(0,t.jsx)("div",{className:"bg-white/70 rounded-xl p-4 text-left max-w-md mx-auto",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-500 text-white text-sm flex items-center justify-center font-bold",children:s+1}),(0,t.jsx)("p",{className:"flex-1",children:e})]})},s))}),(0,t.jsx)("button",{onClick:x,className:"mt-8 px-6 py-3 rounded-xl font-medium transition-colors",style:{backgroundColor:"var(--mood-primary)",color:"white"},children:"← Choisir autre chose"})]}):null;default:return null}})()})}let F=[{id:"work-departure",name:"Départ travail",emoji:"🏢",description:"Tout ce dont tu as besoin pour une journée de travail",type:"work",color:"blue",estimatedTime:5,items:[{id:"medication",text:"Médication matinale prise",emoji:"💊",isRequired:!0,category:"santé",tips:"Essentiel pour ta concentration !"},{id:"lunch",text:"Déjeuner préparé ou argent resto",emoji:"🥪",isRequired:!0,category:"nourriture",tips:"Évite les hypoglycémies de 12h !"},{id:"laptop",text:"Laptop + chargeur si besoin",emoji:"💻",isRequired:!0,category:"travail"},{id:"keys-badge",text:"Clés maison + badge bureau",emoji:"🔑",isRequired:!0,category:"accès"},{id:"phone-accessories",text:"Téléphone + écouteurs + powerbank",emoji:"📱",isRequired:!1,category:"tech"},{id:"weather-clothes",text:"Veste selon météo",emoji:"🌦️",isRequired:!1,category:"vêtements",tips:"Regarde la météo !"},{id:"water-bottle",text:"Bouteille d'eau",emoji:"💧",isRequired:!1,category:"santé",tips:"Hydratation = concentration"},{id:"agenda",text:"Agenda/planning du jour vérifié",emoji:"📅",isRequired:!1,category:"organisation"}]},{id:"shopping-departure",name:"Départ courses",emoji:"🛒",description:"Pour ne rien oublier avant d'aller faire les courses",type:"shopping",color:"green",estimatedTime:3,items:[{id:"payment",text:"Carte bancaire + liquide backup",emoji:"💳",isRequired:!0,category:"paiement",tips:"Toujours avoir un plan B !"},{id:"bags",text:"Sacs réutilisables",emoji:"🛍️",isRequired:!0,category:"transport",tips:"Écologique et pratique !"},{id:"shopping-list",text:"Liste courses (papier ou app)",emoji:"📱",isRequired:!0,category:"organisation",tips:"Anti-oubli et anti-achats impulsifs"},{id:"keys",text:"Clés maison/voiture",emoji:"🔑",isRequired:!0,category:"accès"},{id:"mask",text:"Masque si préférence",emoji:"😷",isRequired:!1,category:"santé"},{id:"loyalty-cards",text:"Cartes de fidélité",emoji:"🎫",isRequired:!1,category:"économies"}]},{id:"sport-departure",name:"Départ sport",emoji:"🏃‍♀️",description:"Équipement pour ta session de sport",type:"sport",color:"orange",estimatedTime:4,items:[{id:"sport-clothes",text:"Tenue de sport complète",emoji:"👕",isRequired:!0,category:"vêtements"},{id:"shoes",text:"Chaussures de sport",emoji:"👟",isRequired:!0,category:"vêtements"},{id:"water",text:"Bouteille d'eau remplie",emoji:"💧",isRequired:!0,category:"hydratation",tips:"Hydratation = performance"},{id:"towel",text:"Serviette",emoji:"🤍",isRequired:!0,category:"hygiène"},{id:"music",text:"Écouteurs + playlist",emoji:"🎵",isRequired:!1,category:"motivation",tips:"La musique booste la motivation !"},{id:"membership",text:"Carte d'abonnement salle",emoji:"🎫",isRequired:!1,category:"accès"},{id:"shower-kit",text:"Kit douche si besoin",emoji:"🧴",isRequired:!1,category:"hygiène"}]},{id:"appointment-departure",name:"Départ rendez-vous",emoji:"👥",description:"Prêt(e) pour ton rendez-vous important",type:"appointment",color:"purple",estimatedTime:4,items:[{id:"address-time",text:"Adresse + heure vérifiées",emoji:"📍",isRequired:!0,category:"logistique",tips:"Double-check pour éviter le stress !"},{id:"transport",text:"Moyen de transport planifié",emoji:"🚗",isRequired:!0,category:"transport"},{id:"documents",text:"Documents nécessaires",emoji:"📄",isRequired:!0,category:"administratif"},{id:"phone-contact",text:"Téléphone + contact de la personne",emoji:"📱",isRequired:!0,category:"communication"},{id:"appropriate-clothes",text:"Tenue appropriée",emoji:"👔",isRequired:!1,category:"présentation"},{id:"buffer-time",text:"Marge de temps pour imprévus",emoji:"⏰",isRequired:!1,category:"planning",tips:"15min de marge minimum !"}]},{id:"travel-departure",name:"Départ voyage",emoji:"✈️",description:"Checklist pour partir en voyage sereinement",type:"travel",color:"indigo",estimatedTime:10,items:[{id:"documents",text:"Papiers d'identité + billets",emoji:"🎫",isRequired:!0,category:"administratif"},{id:"medication-travel",text:"Médication pour la durée + plus",emoji:"💊",isRequired:!0,category:"santé",tips:"Toujours prévoir plus au cas où !"},{id:"luggage",text:"Valise/sac bouclé",emoji:"🧳",isRequired:!0,category:"bagages"},{id:"chargers",text:"Chargeurs téléphone/laptop",emoji:"🔌",isRequired:!0,category:"tech"},{id:"house-security",text:"Maison sécurisée (gaz/eau/électricité)",emoji:"🏠",isRequired:!0,category:"sécurité"},{id:"emergency-contacts",text:"Contacts d'urgence notés",emoji:"🆘",isRequired:!1,category:"sécurité"},{id:"insurance",text:"Assurance voyage",emoji:"🛡️",isRequired:!1,category:"sécurité"},{id:"entertainment",text:"Livre/tablette pour transport",emoji:"📚",isRequired:!1,category:"confort"}]}];function H(e){let{onTemplateSelect:s}=e,{getMoodConfig:a}=(0,i.useMood)();a();let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s={blue:t?"bg-blue-100 border-blue-300":"bg-blue-50 border-blue-200",green:t?"bg-green-100 border-green-300":"bg-green-50 border-green-200",orange:t?"bg-orange-100 border-orange-300":"bg-orange-50 border-orange-200",purple:t?"bg-purple-100 border-purple-300":"bg-purple-50 border-purple-200",indigo:t?"bg-indigo-100 border-indigo-300":"bg-indigo-50 border-indigo-200"};return s[e]||s.blue};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Tu pars où aujourd'hui ? 🚀"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Choisis ton type de sortie pour avoir ta checklist anti-oublis ADHD"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(e=>{var a;return(0,t.jsx)("button",{onClick:()=>s(e),className:"\n              p-6 rounded-xl border-2 transition-all hover:scale-105 active:scale-95\n              ".concat(r(e.color)," hover:").concat(r(e.color,!0),"\n              hover:shadow-lg text-left\n            "),children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"text-4xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-bold text-lg text-slate-800 mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-slate-600 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,t.jsxs)("span",{className:"px-2 py-1 rounded-full ".concat((a=e.estimatedTime)<=3?"text-green-600 bg-green-100":a<=5?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100"),children:["⏱️ ~",e.estimatedTime," min"]}),(0,t.jsxs)("span",{className:"text-slate-500",children:["📋 ",e.items.length," items"]}),(0,t.jsxs)("span",{className:"text-slate-500",children:["⭐ ",e.items.filter(e=>e.isRequired).length," essentiels"]})]}),(0,t.jsxs)("div",{className:"mt-3 text-xs text-slate-500",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"Aperçu :"}),(0,t.jsxs)("div",{className:"space-y-1",children:[e.items.slice(0,3).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{children:e.emoji}),(0,t.jsx)("span",{children:e.text}),e.isRequired&&(0,t.jsx)("span",{className:"text-red-500",children:"*"})]},e.id)),e.items.length>3&&(0,t.jsxs)("p",{className:"text-slate-400",children:["+",e.items.length-3," autres..."]})]})]})]})]})},e.id)})}),(0,t.jsx)("div",{className:"text-center p-6 bg-white/70 backdrop-blur-sm rounded-xl border border-white/20",children:(0,t.jsxs)("p",{className:"text-sm opacity-80",style:{color:"var(--mood-text)"},children:["💡 Ces checklists sont conçues spécialement pour éviter les oublis typiques ADHD.",(0,t.jsx)("br",{}),"Tu peux les personnaliser selon tes besoins !"]})}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-white/70 rounded-xl",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"📋"}),(0,t.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--mood-text)"},children:F.length}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Checklists"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-white/70 rounded-xl",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"✅"}),(0,t.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--mood-text)"},children:F.reduce((e,t)=>e+t.items.length,0)}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Items total"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-white/70 rounded-xl",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"⭐"}),(0,t.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--mood-text)"},children:F.reduce((e,t)=>e+t.items.filter(e=>e.isRequired).length,0)}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Essentiels"})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-white/70 rounded-xl",children:[(0,t.jsx)("div",{className:"text-2xl mb-1",children:"🧠"}),(0,t.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--mood-text)"},children:"ADHD"}),(0,t.jsx)("div",{className:"text-xs opacity-70",style:{color:"var(--mood-text)"},children:"Friendly"})]})]})]})}function L(e){var a;let{checklist:r,onToggleItem:n,onAddCustomItem:l,onRemoveCustomItem:o,onComplete:c,onBack:d,stats:m}=e,{getMoodConfig:u}=(0,i.useMood)(),x=u(),[p,h]=(0,s.useState)(!1),[g,b]=(0,s.useState)(""),[j,v]=(0,s.useState)("📝"),f=()=>{g.trim()&&(l(g.trim(),j),b(""),v("📝"),h(!1))},y=()=>r.items.filter(e=>!e.category||e.isCustom),N=[...new Set(r.items.filter(e=>e.category&&!e.isCustom).map(e=>e.category).filter(Boolean))],w=e=>(0,t.jsxs)("div",{className:"\n        flex items-center gap-4 p-3 rounded-lg border transition-all\n        ".concat(e.isChecked?"bg-green-50 border-green-200":e.isRequired?"bg-yellow-50 border-yellow-200":"bg-white border-slate-200","\n        hover:shadow-md\n      "),children:[(0,t.jsx)("button",{onClick:()=>n(e.id),className:"\n          w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all\n          ".concat(e.isChecked?"bg-green-500 border-green-500 text-white":e.isRequired?"border-orange-400 hover:bg-orange-50":"border-slate-300 hover:bg-slate-50","\n        "),children:e.isChecked&&"✓"}),(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"font-medium ".concat(e.isChecked?"line-through text-slate-500":"text-slate-800"),children:e.text}),e.isRequired&&!e.isChecked&&(0,t.jsx)("span",{className:"text-xs px-2 py-1 bg-orange-100 text-orange-700 rounded-full",children:"Essentiel"}),e.isCustom&&(0,t.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded-full",children:"Perso"})]}),e.tips&&(0,t.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["💡 ",e.tips]})]}),e.isCustom&&(0,t.jsx)("button",{onClick:()=>o(e.id),className:"text-red-400 hover:text-red-600 p-1",children:"🗑️"})]},e.id);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:d,className:"p-2 rounded-lg hover:bg-white/50 transition-colors",children:"← Retour"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-3xl",children:r.name.includes("travail")?"🏢":r.name.includes("courses")?"🛒":r.name.includes("sport")?"🏃‍♀️":r.name.includes("rendez-vous")?"👥":r.name.includes("voyage")?"✈️":"📋"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",style:{color:"var(--mood-text)"},children:r.name}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Checklist anti-oublis ADHD"})]})]})})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl ".concat(x.bgColor," ").concat(x.textColor),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"font-bold text-lg",children:["Progression : ",m.checkedItems,"/",m.totalItems]}),(0,t.jsxs)("span",{className:"text-sm opacity-80",children:[Math.round(m.progressPercentage),"% complété"]})]}),(0,t.jsx)("div",{className:"w-full bg-white/30 rounded-full h-3 mb-4",children:(0,t.jsx)("div",{className:"bg-white h-3 rounded-full transition-all duration-500",style:{width:"".concat(m.progressPercentage,"%")}})}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{children:["⭐ Items essentiels : ",m.checkedRequiredItems,"/",m.requiredItems]}),m.isReadyToGo&&(0,t.jsx)("span",{className:"font-bold animate-pulse",children:"🚀 Prêt(e) à partir !"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[N.map(e=>(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h4",{className:"font-semibold text-lg capitalize",style:{color:"var(--mood-text)"},children:["📂 ",e]}),(0,t.jsx)("div",{className:"space-y-3",children:r.items.filter(t=>t.category===e).map(e=>w(e))})]},e)),y().length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h4",{className:"font-semibold text-lg",style:{color:"var(--mood-text)"},children:"📝 Autres & Personnalisé"}),(0,t.jsx)("div",{className:"space-y-3",children:y().map(w)})]})]}),(0,t.jsx)("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:p?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"w-16 p-2 rounded-lg border border-slate-200 text-center",children:[(0,t.jsx)("option",{value:"📝",children:"📝"}),(0,t.jsx)("option",{value:"🎒",children:"🎒"}),(0,t.jsx)("option",{value:"📱",children:"📱"}),(0,t.jsx)("option",{value:"🔑",children:"🔑"}),(0,t.jsx)("option",{value:"💳",children:"💳"}),(0,t.jsx)("option",{value:"🧴",children:"🧴"}),(0,t.jsx)("option",{value:"📄",children:"📄"}),(0,t.jsx)("option",{value:"🎫",children:"🎫"})]}),(0,t.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"ex: Parapluie, Chargeur voiture...",className:"flex-1 p-2 rounded-lg border border-slate-200 focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:e=>"Enter"===e.key&&f()})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:f,disabled:!g.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Ajouter"}),(0,t.jsx)("button",{onClick:()=>{h(!1),b(""),v("📝")},className:"px-4 py-2 bg-slate-300 text-slate-700 rounded-lg hover:bg-slate-400",children:"Annuler"})]})]}):(0,t.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center gap-3 w-full p-3 rounded-lg border-2 border-dashed border-slate-300 hover:border-slate-400 transition-colors",children:[(0,t.jsx)("span",{className:"text-2xl",children:"➕"}),(0,t.jsx)("span",{className:"font-medium text-slate-600",children:"Ajouter un item personnalisé"})]})}),m.isReadyToGo?(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("button",{onClick:c,className:"inline-flex items-center gap-3 px-8 py-4 text-xl font-bold text-white bg-green-500 rounded-xl hover:bg-green-600 hover:scale-105 transition-all shadow-lg animate-pulse",children:"🚀 C'EST PARTI !"}),(0,t.jsx)("p",{className:"text-sm mt-2 opacity-80",style:{color:"var(--mood-text)"},children:"Tous les items essentiels sont cochés ! 🎉"})]}):(0,t.jsxs)("div",{className:"text-center p-6 bg-orange-50 rounded-xl border border-orange-200",children:[(0,t.jsxs)("p",{className:"font-medium text-orange-800 mb-2",children:["⚠️ Il reste ",m.requiredItems-m.checkedRequiredItems," item(s) essentiel(s)"]}),(0,t.jsx)("p",{className:"text-sm text-orange-600",children:'Coche les items marqués "Essentiel" avant de partir !'})]}),(0,t.jsx)("div",{className:"text-center p-4 bg-white/70 backdrop-blur-sm rounded-xl border border-white/20",children:(0,t.jsx)("p",{className:"text-sm opacity-80",style:{color:"var(--mood-text)"},children:100===(a=m.progressPercentage)?"🎉 Parfait ! Tu n'as rien oublié ! Passe une excellente journée !":a>=80?"💪 Presque fini ! Plus que quelques détails et tu es paré(e) !":a>=50?"👍 Tu avances bien ! Continue comme ça, tu y es presque !":a>=25?"🌟 Bon début ! Prends ton temps, chaque item coché compte !":"🚀 C'est parti ! Coche les items au fur et à mesure que tu les prépares !"})})]})}function B(){let[e,a]=(0,s.useState)("selector"),[i,r]=(0,s.useState)(null),n=e=>{r({id:Date.now().toString(),templateId:e.id,name:e.name,type:e.type,items:e.items.map(e=>({...e,isChecked:!1})),createdAt:Date.now(),isCompleted:!1,customItems:[]}),a("checklist")},l=e=>{i&&r(t=>({...t,items:t.items.map(t=>t.id===e?{...t,isChecked:!t.isChecked}:t)}))},o=(e,t)=>{if(!i)return;let s={id:"custom-".concat(Date.now()),text:e,emoji:t,isChecked:!1,isRequired:!1,isCustom:!0};r(e=>({...e,items:[...e.items,s]}))},c=e=>{i&&r(t=>({...t,items:t.items.filter(t=>t.id!==e)}))},d=()=>{i&&(r(e=>({...e,isCompleted:!0,completedAt:Date.now()})),a("completed"),setTimeout(()=>{m()},5e3))},m=()=>{r(null),a("selector")},u=()=>{if(!i)return{totalItems:0,checkedItems:0,requiredItems:0,checkedRequiredItems:0,progressPercentage:0,isReadyToGo:!1};let e=i.items.length,t=i.items.filter(e=>e.isChecked).length,s=i.items.filter(e=>e.isRequired).length,a=i.items.filter(e=>e.isRequired&&e.isChecked).length;return{totalItems:e,checkedItems:t,requiredItems:s,checkedRequiredItems:a,progressPercentage:e>0?t/e*100:0,isReadyToGo:s===a}};return(0,t.jsx)("div",{className:"w-full max-w-6xl mx-auto",children:(()=>{switch(e){case"selector":return(0,t.jsx)(H,{onTemplateSelect:n});case"checklist":return i?(0,t.jsx)(L,{checklist:i,onToggleItem:l,onAddCustomItem:o,onRemoveCustomItem:c,onComplete:d,onBack:m,stats:u()}):null;case"completed":return i?(0,t.jsxs)("div",{className:"text-center py-16 space-y-6",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"🎉"}),(0,t.jsx)("h2",{className:"text-3xl font-bold",style:{color:"var(--mood-text)"},children:"Bravo ! Tu es prêt(e) !"}),(0,t.jsxs)("div",{className:"max-w-md mx-auto space-y-4",children:[(0,t.jsxs)("p",{className:"text-lg opacity-80",style:{color:"var(--mood-text)"},children:['Checklist "',i.name,'" terminée avec succès !']}),(0,t.jsxs)("div",{className:"bg-green-50 p-6 rounded-xl border border-green-200",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:"🚀"}),(0,t.jsx)("h3",{className:"font-bold text-green-800 mb-2",children:"C'EST PARTI !"}),(0,t.jsxs)("p",{className:"text-sm text-green-600",children:["Tu as vérifié tous les essentiels.",(0,t.jsx)("br",{}),"Passe une excellente journée ! 💪"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"bg-white/70 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"font-bold text-lg",style:{color:"var(--mood-text)"},children:u().checkedItems}),(0,t.jsx)("div",{className:"opacity-70",style:{color:"var(--mood-text)"},children:"Items vérifiés"})]}),(0,t.jsxs)("div",{className:"bg-white/70 p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"font-bold text-lg text-green-600",children:[u().checkedRequiredItems,"/",u().requiredItems]}),(0,t.jsx)("div",{className:"text-green-600 opacity-70",children:"Essentiels OK"})]})]})]}),(0,t.jsx)("button",{onClick:m,className:"px-6 py-3 rounded-xl font-medium transition-colors",style:{backgroundColor:"var(--mood-primary)",color:"white"},children:"Nouvelle checklist"}),(0,t.jsx)("p",{className:"text-xs opacity-60",style:{color:"var(--mood-text)"},children:"Retour automatique dans 5 secondes..."})]}):null;default:return null}})()})}var J=e.i(38979);function G(e){let{isOpen:a,onClose:r,expenseData:n,onDecision:l}=e,{getFinancialAdvice:o,getCurrentMonthStats:c,budget:d}=(0,J.useFinance)(),{currentMood:m,getMoodConfig:u}=(0,i.useMood)(),[x,p]=(0,s.useState)({}),[h,g]=(0,s.useState)(0);if(!a)return null;let b=o(m),j=u(),v=c(),f=J.CATEGORY_CONFIG[n.category],y=J.REFLECTION_QUESTIONS.filter(e=>"all"===e.mood||e.mood===n.category||n.amount>=50&&"regret"===e.id),N=y[h],w=h===y.length-1,C=()=>{h>0&&g(h-1)},k=e=>{l(e),r()},S=(()=>{let e=v.byCategory[n.category],t=d[n.category],s=e+n.amount,a=s/t*100;return a>=100?{level:"danger",message:"Cet achat dépasserait votre budget ".concat(f.label," de ").concat((s-t).toFixed(0),"€")}:a>=80?{level:"warning",message:"Cet achat utiliserait ".concat(a.toFixed(0),"% de votre budget ").concat(f.label)}:null})();return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"p-4 ".concat(j.bgColor," border-b"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"🤔"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold ".concat(j.textColor),children:"Pause réflexion"}),(0,t.jsx)("p",{className:"text-sm ".concat(j.textColor," opacity-75"),children:"Prenons le temps d'y réfléchir"})]})]}),(0,t.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"p-4 rounded-lg ".concat(f.bgColor," mb-6"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:"text-xl",children:f.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800",children:n.description}),(0,t.jsx)("p",{className:"text-sm ".concat(f.textColor),children:f.label})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"font-bold text-gray-800",children:[n.amount.toFixed(2),"€"]})})]}),S&&(0,t.jsxs)("div",{className:"mt-3 p-2 rounded text-sm ".concat("danger"===S.level?"bg-red-100 text-red-700":"bg-orange-100 text-orange-700"),children:["⚠️ ",S.message]})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{children:j.emoji}),(0,t.jsx)("span",{className:"font-medium text-purple-800",children:"Conseil selon votre mood"})]}),(0,t.jsx)("p",{className:"text-sm text-purple-700",children:b.message})]}),h<y.length?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,t.jsxs)("span",{children:["Question ",h+1," sur ",y.length]}),(0,t.jsxs)("span",{children:[Math.round(h/y.length*100),"%"]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:null==N?void 0:N.question}),(0,t.jsx)("textarea",{value:x[null==N?void 0:N.id]||"",onChange:e=>{var t,s;return t=null==N?void 0:N.id,s=e.target.value,void p(e=>({...e,[t]:s}))},placeholder:"Prenez le temps de réfléchir et écrivez votre réponse...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500",rows:3})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:C,disabled:0===h,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),(0,t.jsx)("button",{onClick:()=>{g(h+1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:w?"Terminer la réflexion":"Question suivante"})]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"Résumé de votre réflexion"}),(0,t.jsx)("div",{className:"space-y-3",children:y.map(e=>(0,t.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700",children:e.question}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:x[e.id]||"Pas de réponse"})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-3",children:"Que voulez-vous faire ?"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("button",{onClick:()=>k("buy_now"),className:"w-full p-3 bg-green-50 border border-green-200 text-green-800 rounded-lg hover:bg-green-100 text-left",children:[(0,t.jsx)("div",{className:"font-medium",children:"💳 Acheter maintenant"}),(0,t.jsx)("div",{className:"text-sm opacity-75",children:"J'ai réfléchi, j'en ai besoin"})]}),(0,t.jsxs)("button",{onClick:()=>k("add_to_wishlist"),className:"w-full p-3 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg hover:bg-yellow-100 text-left",children:[(0,t.jsx)("div",{className:"font-medium",children:"🎁 Ajouter à ma wishlist"}),(0,t.jsx)("div",{className:"text-sm opacity-75",children:"J'y repenserai plus tard"})]}),(0,t.jsxs)("button",{onClick:()=>k("cancel"),className:"w-full p-3 bg-gray-50 border border-gray-200 text-gray-800 rounded-lg hover:bg-gray-100 text-left",children:[(0,t.jsx)("div",{className:"font-medium",children:"❌ Annuler l'achat"}),(0,t.jsx)("div",{className:"text-sm opacity-75",children:"Finalement, je n'en ai pas besoin"})]})]})]}),(0,t.jsx)("button",{onClick:C,className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Retour aux questions"})]})]})]})})}function V(e){let{onSuccess:a}=e,[r,l]=(0,s.useState)({amount:"",category:"essential",description:"",receiptPhoto:""}),[o,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(null),{addExpense:p,shouldTriggerReflection:h,addToWishlist:g}=(0,J.useFinance)(),{currentMood:b}=(0,i.useMood)(),j=async e=>{if(e.preventDefault(),!r.amount||!r.description){r.amount||n.a11yService.announceFormError("Montant","Le montant est requis"),r.description||n.a11yService.announceFormError("Description","La description est requise");return}let t=parseFloat(r.amount);if(isNaN(t)||t<=0)return void n.a11yService.announceFormError("Montant","Veuillez entrer un montant valide supérieur à zéro");c(!0),n.a11yService.announceLoading("Ajout de la dépense en cours");try{if(h(t,r.category)){x({amount:t,category:r.category,description:r.description}),m(!0),n.a11yService.announce("Modal de réflexion ouverte pour cette dépense"),c(!1);return}await v(t,r.category,r.description),n.a11yService.announceFormSuccess("Dépense ajoutée avec succès")}catch(e){n.a11yService.announceFormError("Système","Erreur lors de l'ajout de la dépense")}finally{c(!1)}},v=async(e,t,s)=>{p({amount:e,category:t,description:s,receiptPhoto:r.receiptPhoto||void 0,mood:b}),l({amount:"",category:"essential",description:"",receiptPhoto:""}),a()},f=async e=>{if(u){switch(e){case"buy_now":await v(u.amount,u.category,u.description);break;case"add_to_wishlist":g({name:u.description,price:u.amount,category:u.category,priority:"medium"}),l({amount:"",category:"essential",description:"",receiptPhoto:""}),a();break;case"cancel":l({amount:"",category:"essential",description:"",receiptPhoto:""}),a()}x(null),m(!1)}};return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{id:"expense-form-title",className:"text-xl font-semibold mb-6 text-gray-800",children:"Ajouter une dépense"}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-6","aria-labelledby":"expense-form-title",noValidate:!0,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"amount-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Montant (€)"}),(0,t.jsx)("input",{id:"amount-input",type:"number",step:"0.01",value:r.amount,onChange:e=>l(t=>({...t,amount:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",required:!0,"aria-describedby":"amount-help","aria-invalid":""!==r.amount&&(isNaN(parseFloat(r.amount))||0>=parseFloat(r.amount))}),(0,t.jsx)("p",{id:"amount-help",className:"mt-1 text-xs text-gray-500",children:"Entrez le montant en euros avec les centimes si nécessaire"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Catégorie"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",role:"radiogroup","aria-label":"Catégorie de dépense",children:Object.values(J.CATEGORY_CONFIG).map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>l(t=>({...t,category:e.id})),className:"p-3 rounded-lg border-2 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(r.category===e.id?"border-".concat(e.color," ").concat(e.bgColor):"border-gray-200 bg-gray-50 hover:bg-gray-100"),role:"radio","aria-checked":r.category===e.id,"aria-label":"".concat(e.label,": ").concat(e.description||""),children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("span",{className:"text-xl",role:"img","aria-hidden":"true",children:e.emoji}),(0,t.jsx)("span",{className:"text-xs font-medium ".concat(r.category===e.id?e.textColor:"text-gray-600"),children:e.label})]})},e.id))})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("input",{id:"description-input",type:"text",value:r.description,onChange:e=>l(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ex: Courses Carrefour, Resto avec Paul...",required:!0,"aria-describedby":"description-help","aria-invalid":""===r.description}),(0,t.jsx)("p",{id:"description-help",className:"mt-1 text-xs text-gray-500",children:"Décrivez brièvement cette dépense pour vous y retrouver plus tard"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo du ticket (optionnel)"}),(0,t.jsxs)("button",{type:"button",className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-gray-400 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500","aria-describedby":"photo-help",disabled:!0,children:[(0,t.jsx)("span",{className:"text-2xl mb-2 block",role:"img","aria-label":"Caméra",children:"📷"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Cliquez pour ajouter une photo"}),(0,t.jsx)("p",{id:"photo-help",className:"text-xs text-gray-500 mt-1",children:"(Fonctionnalité à venir)"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",disabled:o||!r.amount||!r.description,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-describedby":"submit-help",children:o?"Ajout en cours...":"Ajouter la dépense"})]}),(0,t.jsx)("div",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:o&&"Ajout de la dépense en cours"}),(0,t.jsx)("p",{id:"submit-help",className:"text-xs text-gray-500 text-center mt-2",children:r.amount&&r.description?"Cliquez pour enregistrer votre dépense":"Veuillez remplir tous les champs obligatoires pour continuer"})]}),u&&(0,t.jsx)(G,{isOpen:d,onClose:()=>m(!1),expenseData:u,onDecision:f})]})}function _(){let{expenses:e,deleteExpense:a}=(0,J.useFinance)(),[i,r]=(0,s.useState)("all"),[n,l]=(0,s.useState)("date"),o=e.filter(e=>"all"===i||e.category===i).sort((e,t)=>"date"===n?t.date-e.date:t.amount-e.amount),c=(e=>{let t={};return e.forEach(e=>{let s=new Date(e.date).toDateString();t[s]||(t[s]=[]),t[s].push(e)}),Object.entries(t).sort((e,t)=>new Date(t[0]).getTime()-new Date(e[0]).getTime())})(o);return(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Mes dépenses"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[o.length," dépense",1!==o.length?"s":""]})]}),(0,t.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[(0,t.jsx)("button",{onClick:()=>r("all"),className:"px-3 py-1 rounded-full text-sm whitespace-nowrap ".concat("all"===i?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Tout"}),Object.values(J.CATEGORY_CONFIG).map(e=>(0,t.jsxs)("button",{onClick:()=>r(e.id),className:"px-3 py-1 rounded-full text-sm whitespace-nowrap flex items-center gap-1 ".concat(i===e.id?"".concat(e.bgColor," ").concat(e.textColor):"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,t.jsx)("span",{children:e.emoji}),e.label]},e.id))]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("select",{value:n,onChange:e=>l(e.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{value:"date",children:"Trier par date"}),(0,t.jsx)("option",{value:"amount",children:"Trier par montant"})]})})]}),0===c.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("span",{className:"text-4xl block mb-4",children:"💸"}),(0,t.jsx)("p",{children:"Aucune dépense trouvée"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"all"!==i?"Essayez de changer le filtre de catégorie":"Commencez par ajouter votre première dépense !"})]}):(0,t.jsx)("div",{className:"space-y-6",children:c.map(e=>{let[s,i]=e;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:"text-sm font-medium text-gray-500 border-b pb-1",children:[(e=>{let t=new Date(e),s=new Date,a=t.toDateString()===s.toDateString(),i=t.toDateString()===new Date(s.getTime()-864e5).toDateString();return a?"Aujourd'hui":i?"Hier":t.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})})(new Date(s).getTime()),(0,t.jsxs)("span",{className:"ml-2 text-xs",children:[i.reduce((e,t)=>e+t.amount,0).toFixed(0),"€"]})]}),(0,t.jsx)("div",{className:"space-y-2",children:i.map(e=>{let s=J.CATEGORY_CONFIG[e.category];return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full ".concat(s.bgColor," flex items-center justify-center"),children:(0,t.jsx)("span",{className:"text-lg",children:s.emoji})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 truncate",children:e.description}),e.mood&&(0,t.jsx)("span",{className:"text-xs px-2 py-1 bg-white rounded-full text-gray-600",children:e.mood})]}),(0,t.jsx)("p",{className:"text-sm ".concat(s.textColor),children:s.label})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-semibold text-gray-800",children:[e.amount.toFixed(2),"€"]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:new Date(e.date).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsx)("button",{onClick:()=>a(e.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1",title:"Supprimer",children:"🗑️"})]})]},e.id)})})]},s)})})]})}function U(){let{getCurrentMonthStats:e,budget:s}=(0,J.useFinance)(),{getMoodConfig:a}=(0,i.useMood)(),r=e(),n=a(),l=Object.values(s).reduce((e,t)=>e+t,0),o=r.totalSpent/l*100;return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Vue d'ensemble - ",new Date().toLocaleDateString("fr-FR",{month:"long",year:"numeric"})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Suivi de vos finances avec bienveillance 💙"})]}),(0,t.jsx)("div",{className:"p-6 rounded-xl ".concat(n.bgColor," border-l-4"),style:{borderLeftColor:n.color},children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-gray-800 mb-1",children:[r.totalSpent.toFixed(0),"€"]}),(0,t.jsxs)("div",{className:"text-lg text-gray-600 mb-3",children:["sur ",l,"€ de budget"]}),(0,t.jsx)("div",{className:"w-full bg-white bg-opacity-50 rounded-full h-3 mb-3",children:(0,t.jsx)("div",{className:"h-3 rounded-full transition-all duration-500 ".concat(o>=100?"bg-red-500":o>=80?"bg-orange-500":"bg-green-500"),style:{width:"".concat(Math.min(o,100),"%")}})}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[o.toFixed(0),"% de votre budget mensuel"]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Répartition par catégorie"}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:Object.keys(J.CATEGORY_CONFIG).map(e=>{let a=J.CATEGORY_CONFIG[e],i=r.byCategory[e],n=s[e],l=i/n*100;return(0,t.jsxs)("div",{className:"p-4 rounded-lg border ".concat(l>=100?"text-red-600 bg-red-50 border-red-200":l>=80?"text-orange-600 bg-orange-50 border-orange-200":"".concat(a.textColor," ").concat(a.bgColor," border-gray-200")),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:a.emoji}),(0,t.jsx)("span",{className:"font-medium",children:a.label})]}),(0,t.jsxs)("div",{className:"text-sm opacity-75",children:[i.toFixed(0),"€ / ",n,"€"]})]}),(0,t.jsx)("div",{className:"w-full bg-white bg-opacity-50 rounded-full h-2 mb-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(l>=100?"bg-red-500":l>=80?"bg-orange-500":"bg-".concat(a.color)),style:{width:"".concat(Math.min(l,100),"%")}})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,t.jsxs)("span",{children:[l.toFixed(0),"% utilisé"]}),(0,t.jsx)("span",{children:l>=100?"Dépassé !":"".concat((n-i).toFixed(0),"€ restants")})]}),l>=90&&(0,t.jsx)("div",{className:"mt-2 text-xs px-2 py-1 bg-white bg-opacity-75 rounded text-center",children:"⚠️ Attention au budget !"})]},e)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[r.averageDailySpending.toFixed(0),"€"]}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"Moyenne par jour"})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:r.impulseCount}),(0,t.jsx)("div",{className:"text-sm text-orange-700",children:"Achats impulsifs"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center md:col-span-1 col-span-2",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:[Math.max(0,l-r.totalSpent).toFixed(0),"€"]}),(0,t.jsx)("div",{className:"text-sm text-green-700",children:"Budget restant"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"💡 Conseil du jour"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:o>=100?"Tu as dépassé ton budget mensuel. C'est ok, ça arrive ! Focus sur l'essentiel jusqu'à la fin du mois.":o>=80?"Tu approches de la limite de ton budget. Peut-être ralentir un peu sur les achats plaisir ?":r.impulseCount>=5?"Beaucoup d'achats impulsifs ce mois ! Essaie la wishlist pour tes prochaines envies.":"Tu gères bien tes finances ! Continue comme ça, tu peux même te faire plaisir un peu 😊"})]})]})}function Y(){let{budget:e,setBudget:a,getCurrentMonthStats:i}=(0,J.useFinance)(),[r,n]=(0,s.useState)(e),[l,o]=(0,s.useState)(!1),c=i(),d=Object.values(r).reduce((e,t)=>e+t,0),m={essential:Math.round(.6*d),health:Math.round(.15*d),pleasure:Math.round(.2*d),impulse:Math.round(.05*d)};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Gestion du budget"}),(0,t.jsx)("div",{className:"flex gap-2",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{n(e),o(!1)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Annuler"}),(0,t.jsx)("button",{onClick:()=>{a(r),o(!1)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Sauvegarder"})]}):(0,t.jsx)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Modifier"})})]}),(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-800 mb-2",children:["Budget mensuel total: ",d.toFixed(0),"€"]}),(0,t.jsxs)("div",{className:"text-gray-600",children:["Dépensé: ",c.totalSpent.toFixed(0),"€",(0,t.jsxs)("span",{className:"ml-2",children:["(",(c.totalSpent/d*100).toFixed(0),"%)"]})]})]})}),l&&(0,t.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-medium text-yellow-800 mb-2",children:"💡 Guide de répartition ADHD-friendly"}),(0,t.jsxs)("div",{className:"text-sm text-yellow-700 space-y-1",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Essentiel (60%)"}),": Loyer, courses, transport, abonnements nécessaires"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Santé (15%)"}),": Médecin, médicaments, thérapie, sport"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Plaisir (20%)"}),": Sorties, hobbies, petits bonheurs assumés"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Impulsif (5%)"}),": Marge pour les achats spontanés inévitables"]})]})]}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:Object.keys(J.CATEGORY_CONFIG).map(s=>{let a=J.CATEGORY_CONFIG[s],i=c.byCategory[s],o=e[s],u=r[s],x=m[s],p=o>0?i/o*100:0;return(0,t.jsxs)("div",{className:"p-4 rounded-lg border ".concat(a.bgColor),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("span",{className:"text-2xl",children:a.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium ".concat(a.textColor),children:a.label}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:a.description})]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,t.jsx)("span",{children:"Dépensé ce mois"}),(0,t.jsxs)("span",{children:[i.toFixed(0),"€ / ",o,"€"]})]}),(0,t.jsx)("div",{className:"w-full bg-white bg-opacity-50 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(p>=100?"bg-red-500":p>=80?"bg-orange-500":"bg-green-500"),style:{width:"".concat(Math.min(p,100),"%")}})})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget mensuel (€)"}),(0,t.jsx)("input",{type:"number",min:"0",step:"1",value:u,onChange:e=>((e,t)=>{let s=parseFloat(t)||0;n(t=>({...t,[e]:s}))})(s,e.target.value),disabled:!l,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 ".concat(l?"border-gray-300":"border-gray-200 bg-gray-50")})]}),l&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["💡 Recommandé: ",x,"€ (",(x/d*100).toFixed(0),"% du total)"]})]}),(0,t.jsxs)("div",{className:"mt-3 flex items-center gap-2 text-sm",children:[p>=100?(0,t.jsx)("span",{className:"text-red-600",children:"🔴 Budget dépassé"}):p>=80?(0,t.jsx)("span",{className:"text-orange-600",children:"🟡 Attention"}):(0,t.jsx)("span",{className:"text-green-600",children:"🟢 Dans les limites"}),(0,t.jsxs)("span",{className:"text-gray-500",children:["(",p.toFixed(0),"%)"]})]})]},s)})}),(0,t.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-purple-800 mb-2",children:"🎯 Conseils budgétaires"}),(0,t.jsxs)("div",{className:"text-sm text-purple-700 space-y-2",children:[d<1e3&&(0,t.jsx)("p",{children:"• Pour un petit budget, privilégie l'essentiel et garde une petite marge plaisir."}),c.impulseCount>=3&&(0,t.jsx)("p",{children:"• Beaucoup d'achats impulsifs ce mois. Peut-être augmenter ce budget ?"}),0===c.byCategory.pleasure&&(0,t.jsx)("p",{children:"• N'oublie pas de te faire plaisir ! Un petit budget plaisir est important pour le moral."}),Object.values(c.budgetUsed).some(e=>e>=100)&&(0,t.jsx)("p",{children:"• Certains budgets sont dépassés. Pas de panique, on ajuste pour le mois prochain !"})]})]})]})}function W(){let{wishlist:e,addToWishlist:a,removeFromWishlist:i,updateWishlistItem:r,addExpense:n}=(0,J.useFinance)(),[l,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)({name:"",price:"",category:"pleasure",priority:"medium",reflection:""}),m=[...e].sort((e,t)=>{let s={high:3,medium:2,low:1};return s[e.priority]!==s[t.priority]?s[t.priority]-s[e.priority]:t.addedDate-e.addedDate}),u=e.reduce((e,t)=>e+t.price,0);return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Ma Wishlist"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.length," article",1!==e.length?"s":""," • Total: ",u.toFixed(0),"€"]})]}),(0,t.jsxs)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"➕"}),"Ajouter"]})]}),l&&(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),c.name&&c.price&&(a({name:c.name,price:parseFloat(c.price),category:c.category,priority:c.priority,reflection:c.reflection||void 0}),d({name:"",price:"",category:"pleasure",priority:"medium",reflection:""}),o(!1))},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'article"}),(0,t.jsx)("input",{type:"text",value:c.name,onChange:e=>d(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Nouveau casque audio",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix (€)"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:c.price,onChange:e=>d(t=>({...t,price:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"0.00",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),(0,t.jsx)("select",{value:c.category,onChange:e=>d(t=>({...t,category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:Object.values(J.CATEGORY_CONFIG).map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.emoji," ",e.label]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),(0,t.jsxs)("select",{value:c.priority,onChange:e=>d(t=>({...t,priority:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"low",children:"🟢 Basse"}),(0,t.jsx)("option",{value:"medium",children:"🟡 Moyenne"}),(0,t.jsx)("option",{value:"high",children:"🔴 Haute"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Réflexion (optionnel)"}),(0,t.jsx)("textarea",{value:c.reflection,onChange:e=>d(t=>({...t,reflection:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Pourquoi je veux cet article ? En ai-je vraiment besoin ?"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Ajouter à la wishlist"})]})]})}),0===m.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("span",{className:"text-4xl block mb-4",children:"🎁"}),(0,t.jsx)("p",{children:"Votre wishlist est vide"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Ajoutez vos envies d'achat pour y réfléchir à tête reposée !"})]}):(0,t.jsx)("div",{className:"space-y-4",children:m.map(e=>{let s=J.CATEGORY_CONFIG[e.category];return(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg border hover:shadow-sm transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:"text-xl",children:s.emoji}),(0,t.jsx)("h3",{className:"font-medium text-gray-800 truncate",children:e.name}),(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((e=>{switch(e){case"high":return"text-red-600 bg-red-50";case"medium":return"text-yellow-600 bg-yellow-50";case"low":return"text-green-600 bg-green-50"}})(e.priority)),children:(e=>{switch(e){case"high":return"Haute";case"medium":return"Moyenne";case"low":return"Basse"}})(e.priority)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[(0,t.jsxs)("span",{className:"font-semibold",children:[e.price.toFixed(2),"€"]}),(0,t.jsx)("span",{className:"".concat(s.textColor),children:s.label}),(0,t.jsx)("span",{children:(e=>{let t=Math.floor((Date.now()-e)/864e5);return 0===t?"Aujourd'hui":1===t?"Hier":t<7?"Il y a ".concat(t," jours"):t<30?"Il y a ".concat(Math.floor(t/7)," semaines"):"Il y a ".concat(Math.floor(t/30)," mois")})(e.addedDate)})]}),e.reflection&&(0,t.jsxs)("div",{className:"bg-gray-50 p-2 rounded text-sm text-gray-600 italic",children:['"',e.reflection,'"']})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("button",{onClick:()=>{n({amount:e.price,category:e.category,description:e.name,mood:void 0}),i(e.id)},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Acheter maintenant"}),(0,t.jsx)("button",{onClick:()=>i(e.id),className:"px-3 py-1 border border-red-300 text-red-600 rounded text-sm hover:bg-red-50",children:"Supprimer"})]})]})},e.id)})}),e.length>0&&(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"💡 Conseils wishlist ADHD"}),(0,t.jsxs)("div",{className:"text-sm text-blue-700 space-y-1",children:[(0,t.jsx)("p",{children:"• Attendez 24h avant d'acheter un article de votre wishlist"}),(0,t.jsx)("p",{children:"• Relisez votre réflexion avant de décider"}),(0,t.jsx)("p",{children:"• Privilégiez les articles haute priorité et dans votre budget"}),(0,t.jsx)("p",{children:"• N'hésitez pas à supprimer les articles qui ne vous font plus envie !"})]})]})]})}function Q(){let[e,a]=(0,s.useState)("overview"),{getCurrentMonthStats:r,getFinancialAdvice:n}=(0,J.useFinance)(),{currentMood:l,getMoodConfig:o}=(0,i.useMood)(),d=r(),m=n(l),u=o();return s.default.useEffect(()=>{let e=document.getElementById("finance-interface");if(e)return c.initializeComponent(e,{tabList:!0})},[]),(0,t.jsxs)("div",{id:"finance-interface",className:"max-w-4xl mx-auto p-4 space-y-6",children:[(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(u.bgColor," border-l-4"),style:{borderLeftColor:u.color},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:u.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium ".concat(u.textColor),children:"Conseil finances du moment"}),(0,t.jsx)("p",{className:"text-sm ".concat(u.textColor," opacity-80"),children:m.message})]})]})}),(0,t.jsx)("nav",{className:"flex gap-2 overflow-x-auto pb-2",role:"tablist","aria-label":"Sections des finances",children:[{id:"overview",label:"Vue d'ensemble",emoji:"📊"},{id:"add",label:"Ajouter",emoji:"➕"},{id:"expenses",label:"Dépenses",emoji:"🧾"},{id:"budget",label:"Budget",emoji:"💰"},{id:"wishlist",label:"Wishlist",emoji:"🎁"}].map(s=>(0,t.jsxs)("button",{onClick:()=>a(s.id),className:"px-4 py-2 rounded-lg whitespace-nowrap flex items-center gap-2 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(e===s.id?"bg-".concat(u.color.replace("-500","-100")," text-").concat(u.color.replace("-500","-700")):"bg-gray-100 text-gray-700 hover:bg-gray-200"),role:"tab","aria-selected":e===s.id,"aria-controls":"finance-panel-".concat(s.id),id:"finance-tab-".concat(s.id),children:[(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:s.emoji}),(0,t.jsx)("span",{className:"text-sm font-medium",children:s.label})]},s.id))}),"overview"===e&&(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",role:"group","aria-label":"Statistiques financières du mois",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",role:"region","aria-labelledby":"total-spent-title",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-gray-800",id:"total-spent-title",children:[d.totalSpent.toFixed(0),"€"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Dépensé ce mois"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",role:"region","aria-labelledby":"impulse-count-title",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",id:"impulse-count-title",children:d.impulseCount}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Achats impulsifs"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",role:"region","aria-labelledby":"daily-average-title",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-blue-600",id:"daily-average-title",children:[d.averageDailySpending.toFixed(0),"€"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Moyenne par jour"})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",role:"region","aria-labelledby":"wise-ratio-title",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-green-600",id:"wise-ratio-title",children:[Math.max(0,(d.byCategory.essential+d.byCategory.health)/(d.byCategory.pleasure+d.byCategory.impulse)*100).toFixed(0),"%"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Ratio de dépenses raisonnables"})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg border min-h-[400px]",role:"tabpanel",id:"finance-panel-".concat(e),"aria-labelledby":"finance-tab-".concat(e),children:(()=>{switch(e){case"add":return(0,t.jsx)(V,{onSuccess:()=>a("overview")});case"expenses":return(0,t.jsx)(_,{});case"budget":return(0,t.jsx)(Y,{});case"wishlist":return(0,t.jsx)(W,{});default:return(0,t.jsx)(U,{})}})()})]})}var K=e.i(91423);function Z(e){let{onPlanSelected:a}=e,{createTasksFromPlan:r,getMoodPlan:n}=(0,K.useCleaning)(),{currentMood:l,getMoodConfig:o}=(0,i.useMood)(),[c,d]=(0,s.useState)([]),[m,u]=(0,s.useState)(!1),x=o(),p=n(l),h=async()=>{u(!0);try{let e=c.length>0?c:p.focusAreas;r(l,e),a()}catch(e){}finally{u(!1)}},g=p.focusAreas;return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"text-4xl mb-3",children:x.emoji}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:p.title}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:p.description}),(0,t.jsx)("div",{className:"inline-block px-4 py-2 ".concat(x.bgColor," ").concat(x.textColor," rounded-full text-sm"),children:p.motivationalMessage})]}),(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-800",children:p.maxTasks}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"tâches max"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-800",children:"pomodoro"===p.recommendedTimer?"25min":"sprint"===p.recommendedTimer?"10min":"5min"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"sessions recommandées"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-800",children:g.length}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"pièces ciblées"})]})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Choisir les pièces à nettoyer"}),(0,t.jsx)("div",{className:"text-sm text-gray-600 mb-4",children:0===c.length?"Recommandé pour ton mood : ".concat(g.map(e=>K.ROOMS[e].name).join(", ")):"".concat(c.length," pièce").concat(c.length>1?"s":""," sélectionnée").concat(c.length>1?"s":"")}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(K.ROOMS).map(e=>{let s=c.includes(e.id),a=g.includes(e.id);return(0,t.jsx)("button",{onClick:()=>{var t;"all"===(t=e.id)?d(["all"]):d(e=>{let s=e.filter(e=>"all"!==e);return s.includes(t)?s.filter(e=>e!==t):[...s,t]})},className:"p-4 rounded-lg border-2 transition-all ".concat(s?"border-".concat(e.color," ").concat(e.bgColor," ").concat(e.textColor):a?"border-".concat(e.color," border-opacity-50 bg-gray-50 hover:").concat(e.bgColor):"border-gray-200 bg-gray-50 hover:bg-gray-100"),children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsx)("span",{className:"text-sm font-medium ".concat(s?e.textColor:"text-gray-700"),children:e.name}),a&&!s&&(0,t.jsx)("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full",children:"Recommandé"})]})},e.id)})})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg ".concat(x.bgColor," border"),children:[(0,t.jsx)("h4",{className:"font-medium ".concat(x.textColor," mb-2"),children:"💡 Conseils pour ton mood"}),(0,t.jsxs)("div",{className:"text-sm ".concat(x.textColor," opacity-80 space-y-1"),children:["energetic"===l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"• Profite de ton énergie pour les tâches lourdes"}),(0,t.jsx)("p",{children:"• N'hésite pas à utiliser le timer Pomodoro 25min"}),(0,t.jsx)("p",{children:"• Tu peux viser plusieurs pièces aujourd'hui !"})]}),"normal"===l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"• Focus sur 1-2 pièces pour rester motivé(e)"}),(0,t.jsx)("p",{children:"• Les sprints de 10min sont parfaits"}),(0,t.jsx)("p",{children:"• Commence par les tâches satisfaisantes"})]}),"tired"===l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"• Garde tes forces, choisis 1 seule pièce"}),(0,t.jsx)("p",{children:"• Les micro-sessions de 5min sont idéales"}),(0,t.jsx)("p",{children:"• Même faire son lit est une victoire !"})]}),"stressed"===l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"• Les tâches répétitives vont t'apaiser"}),(0,t.jsx)("p",{children:"• Privilégie le rangement à l'aspirateur"}),(0,t.jsx)("p",{children:"• Prends ton temps, pas de pression"})]}),"sad"===l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"• Une seule tâche suffit, tu es courageux(se)"}),(0,t.jsx)("p",{children:"• Commence par ton lit, c'est réconfortant"}),(0,t.jsx)("p",{children:"• Chaque petit geste compte énormément ❤️"})]})]})]}),(0,t.jsx)("div",{className:"flex gap-3 pt-4",children:(0,t.jsx)("button",{onClick:h,disabled:m,className:"flex-1 px-6 py-3 rounded-lg font-medium transition-colors ".concat(m?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-".concat(x.color," text-white hover:bg-").concat(x.color.replace("-500","-600"))),children:m?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Création..."]}):(0,t.jsx)(t.Fragment,{children:"🚀 C'est parti ! Créer mes tâches"})})})]})}function X(){let{tasks:e,completeTask:a,uncompleteTask:r,deleteTask:n,clearCompletedTasks:l,startTimer:o,addCustomTask:c,getStats:d}=(0,K.useCleaning)(),{getMoodConfig:m}=(0,i.useMood)(),[u,x]=(0,s.useState)("active"),[p,h]=(0,s.useState)("all_rooms"),[g,b]=(0,s.useState)(!1),[j,v]=(0,s.useState)(""),f=m(),y=d(),N=e.filter(e=>{let t="all"===u||"active"===u&&!e.isCompleted||"completed"===u&&e.isCompleted,s="all_rooms"===p||e.room===p;return t&&s}).reduce((e,t)=>{let s=t.room;return e[s]||(e[s]=[]),e[s].push(t),e},{}),w=e.filter(e=>!e.isCompleted),C=e.filter(e=>e.isCompleted),k=()=>{j.trim()&&(c({name:j.trim(),room:"all_rooms"===p?"living":p,difficulty:"easy",estimatedMinutes:10,points:2,emoji:"✨"}),v(""),b(!1))};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Mes tâches de ménage"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[w.length," active",1!==w.length?"s":""," •",C.length," terminée",1!==C.length?"s":""," •",y.today.pointsEarned," points aujourd'hui"]})]}),(0,t.jsx)("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"+ Tâche custom"})]}),g&&(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:j,onChange:e=>v(e.target.value),placeholder:"Nom de la tâche...",className:"flex-1 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:e=>"Enter"===e.key&&k()}),(0,t.jsx)("button",{onClick:k,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Ajouter"}),(0,t.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50",children:"Annuler"})]})}),(0,t.jsxs)("div",{className:"flex gap-4 overflow-x-auto pb-2",children:[(0,t.jsx)("div",{className:"flex gap-2",children:[{id:"active",label:"À faire",count:w.length},{id:"completed",label:"Terminées",count:C.length},{id:"all",label:"Toutes",count:e.length}].map(e=>(0,t.jsxs)("button",{onClick:()=>x(e.id),className:"px-3 py-1 rounded-full text-sm whitespace-nowrap ".concat(u===e.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[e.label," (",e.count,")"]},e.id))}),(0,t.jsx)("div",{className:"border-l pl-4 flex gap-2",children:(0,t.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"px-2 py-1 text-sm border border-gray-300 rounded",children:[(0,t.jsx)("option",{value:"all_rooms",children:"Toutes les pièces"}),Object.values(K.ROOMS).filter(e=>"all"!==e.id).map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.emoji," ",e.name]},e.id))]})})]}),C.length>0&&(0,t.jsxs)("div",{className:"flex justify-between items-center bg-green-50 p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"text-green-800",children:["🎉 ",C.length," tâche",1!==C.length?"s":""," terminée",1!==C.length?"s":""," !"]}),(0,t.jsx)("button",{onClick:l,className:"text-sm text-green-700 hover:text-green-800 underline",children:"Nettoyer la liste"})]}),0===Object.keys(N).length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("span",{className:"text-4xl block mb-4",children:"🧹"}),(0,t.jsx)("p",{children:"Aucune tâche trouvée"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Commencez par créer un plan adapté à votre mood !"})]}):(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(N).map(e=>{let[s,i]=e,l=K.ROOMS[s],c=i.filter(e=>e.isCompleted).length,d=i.length,m=d>0?c/d*100:0;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:l.emoji}),(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:l.name}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[c,"/",d]})]}),d>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(m,"%")}})}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[Math.round(m),"%"]})]})]}),(0,t.jsx)("div",{className:"grid gap-3",children:i.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border transition-all ".concat(e.isCompleted?"bg-green-50 border-green-200 opacity-75":"bg-white border-gray-200 hover:shadow-sm"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("button",{onClick:()=>{e.isCompleted?r(e.id):a(e.id)},className:"w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ".concat(e.isCompleted?"bg-green-500 border-green-500 text-white":"border-gray-300 hover:border-green-500"),children:e.isCompleted&&"✓"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium ".concat(e.isCompleted?"text-gray-500 line-through":"text-gray-800"),children:e.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((e=>{switch(e){case"micro":return"bg-green-100 text-green-800";case"easy":return"bg-blue-100 text-blue-800";case"medium":return"bg-yellow-100 text-yellow-800";case"heavy":return"bg-red-100 text-red-800"}})(e.difficulty)),children:e.difficulty}),(0,t.jsxs)("span",{children:[e.estimatedMinutes,"min"]}),(0,t.jsxs)("span",{children:[e.points," pts"]}),e.completedAt&&(0,t.jsxs)("span",{className:"text-green-600",children:["✓ ",new Date(e.completedAt).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!e.isCompleted&&(0,t.jsx)("button",{onClick:()=>o("sprint",e.id),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:"⏰ Timer"}),(0,t.jsx)("button",{onClick:()=>n(e.id),className:"text-gray-400 hover:text-red-500 p-1",children:"🗑️"})]})]},e.id))})]},s)})}),w.length>0&&(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(f.bgColor," text-center"),children:(0,t.jsx)("p",{className:"".concat(f.textColor),children:1===w.length?"Plus qu'une tâche ! Tu y es presque 🎯":"".concat(w.length," tâches restantes. Chaque action compte ! 💪")})})]})}function $(){let{currentSession:e,startTimer:a,pauseTimer:i,resumeTimer:r,stopTimer:n,completeTimer:l,tasks:o}=(0,K.useCleaning)(),[c,d]=(0,s.useState)(0),[m,u]=(0,s.useState)("sprint");(0,s.useEffect)(()=>{if(!e||"running"!==e.status)return;let t=setInterval(()=>{let t=Math.floor((Date.now()-(e.startTime||0))/1e3),s=Math.max(0,e.duration-t);d(s),0===s&&l()},1e3);return()=>clearInterval(t)},[e,l]),(0,s.useEffect)(()=>{if(e&&"running"===e.status){let t=Math.floor((Date.now()-(e.startTime||0))/1e3);d(Math.max(0,e.duration-t))}},[e]);let x=(null==e?void 0:e.taskId)?o.find(t=>t.id===e.taskId):null;return(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(()=>{if(!e)return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Choisir un timer"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Sélectionnez le format qui correspond à votre énergie du moment"})]}),(0,t.jsx)("div",{className:"grid gap-4",children:Object.values(K.TIMER_CONFIGS).map(e=>(0,t.jsx)("button",{onClick:()=>u(e.type),className:"p-4 rounded-lg border-2 text-left transition-all ".concat(m===e.type?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Travail: ",e.workDuration,"min • Pause: ",e.shortBreak,"min"]})]})]})},e.type))}),(0,t.jsxs)("button",{onClick:()=>a(m),className:"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:["🚀 Démarrer ",K.TIMER_CONFIGS[m].name]})]});let s=K.TIMER_CONFIGS[e.type],l="running"===e.status,o="paused"===e.status,d="completed"===e.status;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:s.emoji}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:s.name})]}),x&&(0,t.jsxs)("p",{className:"text-gray-600",children:[x.emoji," ",x.name]})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"mx-auto w-64 h-64 relative",children:[(0,t.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:[(0,t.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:"#e5e7eb",strokeWidth:"8",fill:"transparent"}),(0,t.jsx)("circle",{cx:"50",cy:"50",r:"45",stroke:d?"#10b981":l?"#3b82f6":"#f59e0b",strokeWidth:"8",fill:"transparent",strokeLinecap:"round",strokeDasharray:"282.743",strokeDashoffset:282.743-282.743*(e?(e.duration-c)/e.duration*100:0)/100,className:"transition-all duration-300"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-4xl font-mono font-bold ".concat(d?"text-green-600":l?"text-blue-600":"text-yellow-600"),children:d?"00:00":(e=>{let t=Math.floor(e/60);return"".concat(t.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))})(c)}),(0,t.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:d?"Terminé !":l?"En cours":o?"En pause":"Prêt"})]})})]})}),(0,t.jsxs)("div",{className:"flex justify-center gap-4",children:[l?(0,t.jsx)("button",{onClick:i,className:"px-6 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"⏸️ Pause"}):o?(0,t.jsx)("button",{onClick:r,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"▶️ Reprendre"}):d?(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("div",{className:"text-green-600 text-lg font-medium mb-4",children:"🎉 Session terminée ! Bien joué !"})}):null,(0,t.jsx)("button",{onClick:n,className:"px-6 py-3 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"⏹️ Arrêter"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:"Type"}),(0,t.jsx)("div",{className:"text-gray-600",children:s.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:"Durée"}),(0,t.jsxs)("div",{className:"text-gray-600",children:[s.workDuration," minutes"]})]})]}),x&&(0,t.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,t.jsxs)("div",{className:"text-sm text-gray-600 text-center",children:["Tâche associée: ",(0,t.jsx)("span",{className:"font-medium",children:x.name})]})})]})]})})(),(0,t.jsxs)("div",{className:"mt-8 bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"💡 Conseils timer"}),(0,t.jsxs)("div",{className:"text-sm text-blue-700 space-y-1",children:[(0,t.jsx)("p",{children:"• Choisissez la durée selon votre énergie du moment"}),(0,t.jsx)("p",{children:"• Prenez TOUJOURS vos pauses, c'est important"}),(0,t.jsx)("p",{children:"• Une session = une tâche pour rester focus"}),(0,t.jsx)("p",{children:"• Pas de culpabilité si vous n'arrivez pas au bout ❤️"})]})]})]})})}function ee(){let{getStats:e,streak:s,achievements:a,tasks:i}=(0,K.useCleaning)(),r=e(),n=(()=>{let e={kitchen:0,bedroom:0,living:0,bathroom:0,office:0,all:0};return i.filter(e=>e.isCompleted).forEach(t=>{e[t.room]++}),Object.entries(e).filter(e=>{let[t]=e;return"all"!==t}).map(e=>{let[t,s]=e;return{room:K.ROOMS[t],count:s}}).sort((e,t)=>t.count-e.count)})(),l=(()=>{let e={morning:0,afternoon:0,evening:0};return i.filter(e=>e.isCompleted&&e.completedAt).forEach(t=>{let s=new Date(t.completedAt).getHours();s>=6&&s<12?e.morning++:s>=12&&s<18?e.afternoon++:e.evening++}),Object.entries(e).map(e=>{let[t,s]=e;return{period:t,count:s,label:"morning"===t?"🌅 Matin":"afternoon"===t?"☀️ Après-midi":"🌙 Soir"}}).sort((e,t)=>t.count-e.count)})(),o=i.filter(e=>e.isCompleted).sort((e,t)=>(t.completedAt||0)-(e.completedAt||0)).slice(0,5);return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tes statistiques de ménage"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Regarde tout ce que tu accomplis ! 🌟"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.today.tasksCompleted}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"Tâches aujourd'hui"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.today.pointsEarned}),(0,t.jsx)("div",{className:"text-sm text-green-700",children:"Points aujourd'hui"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:r.thisWeek.streak}),(0,t.jsx)("div",{className:"text-sm text-purple-700",children:"Jours de suite"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 p-4 rounded-lg text-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-bold text-yellow-600",children:[r.today.timeSpent,"min"]}),(0,t.jsx)("div",{className:"text-sm text-yellow-700",children:"Temps aujourd'hui"})]})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Cette semaine"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-800",children:r.thisWeek.tasksCompleted}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Tâches terminées"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-800",children:r.thisWeek.pointsEarned}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Points gagnés"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-gray-800",children:[Math.round(r.thisWeek.timeSpent/60*10)/10,"h"]}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"Temps investi"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Tes pièces favorites"}),0===n.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Commence à nettoyer pour voir tes statistiques !"}):(0,t.jsx)("div",{className:"space-y-3",children:n.slice(0,3).map((e,s)=>{let{room:a,count:i}=e;return(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 text-sm font-medium",children:s+1}),(0,t.jsx)("span",{className:"text-xl",children:a.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:a.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[i," tâche",i>1?"s":""," terminée",i>1?"s":""]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,t.jsx)("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:"".concat(n.length>0?i/n[0].count*100:0,"%")}})})})]},a.id)})})]}),(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Tes moments préférés"}),0===l.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Pas encore de données sur tes horaires préférés"}):(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:l.map(e=>{let{period:s,count:a,label:i}=e;return(0,t.jsxs)("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:i.split(" ")[0]}),(0,t.jsx)("div",{className:"font-semibold text-gray-800",children:a}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:i.split(" ")[1]})]},s)})})]}),a.length>0&&(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Tes succès"}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-yellow-50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.description})]}),(0,t.jsxs)("div",{className:"text-sm font-medium text-yellow-700",children:["+",e.points," pts"]})]},e.id))})]}),o.length>0&&(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Dernières victoires"}),(0,t.jsx)("div",{className:"space-y-2",children:o.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 py-2",children:[(0,t.jsx)("span",{className:"text-lg",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"font-medium text-gray-800",children:e.name}),(0,t.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",K.ROOMS[e.room].name,")"]})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.completedAt&&new Date(e.completedAt).toLocaleDateString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 p-6 rounded-lg text-center",children:[(0,t.jsx)("h4",{className:"font-semibold text-purple-800 mb-2",children:"🌟 Continue comme ça !"}),(0,t.jsx)("p",{className:"text-purple-700",children:0===r.allTime.tasksCompleted?"Ta première tâche t'attend ! Chaque petit pas compte.":r.allTime.tasksCompleted<10?"".concat(r.allTime.tasksCompleted," tâche").concat(r.allTime.tasksCompleted>1?"s":""," terminée").concat(r.allTime.tasksCompleted>1?"s":""," ! Tu prends de bonnes habitudes 💪"):"".concat(r.allTime.tasksCompleted," tâches au total ! Tu es devenu(e) un(e) pro du ménage 🏆")})]})]})}function et(){let{microVictories:e}=(0,K.useCleaning)();return 0===e.length?null:(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("span",{className:"text-lg",children:"🎉"}),(0,t.jsx)("h3",{className:"font-medium text-gray-800",children:"Tes micro-victoires !"})]}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:e.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"min-w-0 flex-shrink-0 bg-white px-3 py-2 rounded-full border text-sm whitespace-nowrap",children:[(0,t.jsx)("span",{className:"mr-1",children:e.emoji}),(0,t.jsx)("span",{className:"font-medium text-gray-700",children:e.message}),(0,t.jsx)("span",{className:"text-gray-500 ml-2 text-xs",children:(e=>{let t=Math.floor((Date.now()-e)/6e4);if(t<1)return"À l'instant";if(t<60)return"Il y a ".concat(t,"min");let s=Math.floor(t/60);if(s<24)return"Il y a ".concat(s,"h");let a=Math.floor(s/24);return"Il y a ".concat(a," jour").concat(a>1?"s":"")})(e.timestamp)})]},e.id))}),e.length>5&&(0,t.jsx)("div",{className:"text-center mt-2",children:(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.length-5," autre",e.length-5>1?"s":""," victoire",e.length-5>1?"s":""," !"]})})]})}function es(){let[e,a]=(0,s.useState)("plan"),{tasks:r,currentSession:n,getStats:l}=(0,K.useCleaning)(),{getMoodConfig:o}=(0,i.useMood)(),c=o(),d=l(),m=r.filter(e=>!e.isCompleted),u=m.length>0,x=[{id:"plan",label:"Plan",emoji:"📋",disabled:!1},{id:"tasks",label:"Tâches",emoji:"✅",disabled:!u},{id:"timer",label:"Timer",emoji:"⏰",disabled:!1},{id:"stats",label:"Stats",emoji:"📊",disabled:!1}];return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(c.bgColor," border-l-4"),style:{borderLeftColor:c.color},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:c.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium ".concat(c.textColor),children:"Ménage adapté à ton mood"}),(0,t.jsx)("p",{className:"text-sm ".concat(c.textColor," opacity-80"),children:d.today.tasksCompleted>0?"Déjà ".concat(d.today.tasksCompleted," tâche").concat(d.today.tasksCompleted>1?"s":""," terminée").concat(d.today.tasksCompleted>1?"s":""," aujourd'hui ! 🎉"):"Prêt(e) pour quelques petites victoires ? 💪"})]})]})}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:x.map(s=>(0,t.jsxs)("button",{onClick:()=>!s.disabled&&a(s.id),disabled:s.disabled,className:"px-4 py-2 rounded-lg whitespace-nowrap flex items-center gap-2 transition-colors ".concat(e===s.id?"bg-".concat(c.color.replace("-500","-100")," text-").concat(c.color.replace("-500","-700")):s.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)("span",{children:s.emoji}),(0,t.jsx)("span",{className:"text-sm font-medium",children:s.label}),"tasks"===s.id&&u&&(0,t.jsx)("span",{className:"bg-blue-500 text-white text-xs rounded-full px-2 py-1",children:m.length})]},s.id))}),n&&"running"===n.status&&"timer"!==e&&(0,t.jsx)("div",{className:"sticky top-4 z-10",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 text-white p-3 rounded-lg shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-lg",children:"⏰"}),(0,t.jsx)("span",{className:"font-medium",children:"Timer en cours"})]}),(0,t.jsx)("button",{onClick:()=>a("timer"),className:"bg-white/20 hover:bg-white/30 px-3 py-1 rounded text-sm",children:"Voir"})]})})}),(0,t.jsx)(et,{}),"plan"===e&&d.today.tasksCompleted>0&&(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-3 rounded-lg border text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-green-600",children:d.today.tasksCompleted}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Terminées"})]}),(0,t.jsxs)("div",{className:"bg-white p-3 rounded-lg border text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-blue-600",children:d.today.pointsEarned}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Points"})]}),(0,t.jsxs)("div",{className:"bg-white p-3 rounded-lg border text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-purple-600",children:[d.today.timeSpent,"min"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Temps"})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg border min-h-[400px]",children:(()=>{switch(e){case"tasks":return(0,t.jsx)(X,{});case"timer":return(0,t.jsx)($,{});case"stats":return(0,t.jsx)(ee,{});default:return(0,t.jsx)(Z,{onPlanSelected:()=>a("tasks")})}})()})]})}var ea=e.i(53892);function ei(){let{logWellbeing:e,getTodayWellbeing:a}=(0,ea.useHealth)(),{getMoodConfig:r,currentMood:n}=(0,i.useMood)(),l=a(),[o,c]=(0,s.useState)({sleep:(null==l?void 0:l.metrics.sleep)||3,energy:(null==l?void 0:l.metrics.energy)||3,focus:(null==l?void 0:l.metrics.focus)||3,anxiety:(null==l?void 0:l.metrics.anxiety)||3}),[d,m]=(0,s.useState)((null==l?void 0:l.notes)||""),[u,x]=(0,s.useState)(!1),p=r(),h=async t=>{t.preventDefault(),x(!0);try{e({date:new Date().setHours(0,0,0,0),metrics:o,notes:d.trim()||void 0,mood:n}),setTimeout(()=>{x(!1)},1e3)}catch(e){x(!1)}};return u?(0,t.jsxs)("div",{className:"p-6 text-center",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"🎉"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Bien-être noté !"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Merci de prendre soin de toi. Ces données t'aideront à mieux te comprendre."})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:[l?"Modifier":"Noter"," mon bien-être"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Comment te sens-tu aujourd'hui ? Prends 30 secondes pour t'écouter."})]}),(0,t.jsxs)("form",{onSubmit:h,className:"max-w-2xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"space-y-6",children:Object.keys(ea.WELLBEING_METRICS).map(e=>(e=>{let s=ea.WELLBEING_METRICS[e],a=o[e],i=s.scale[a];return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xl",children:s.emoji}),(0,t.jsx)("span",{className:"font-medium text-gray-800",children:s.name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-semibold ".concat(i.color),children:i.label}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[a,"/5"]})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"range",min:"1",max:"5",value:a,onChange:t=>c(s=>({...s,[e]:parseInt(t.target.value)})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #fee2e2 0%, #fef3c7 25%, #ecfdf5 50%, #dcfce7 75%, #d1fae5 100%)"}}),(0,t.jsxs)("div",{className:"flex justify-between mt-1 text-xs text-gray-400",children:[(0,t.jsx)("span",{children:"1"}),(0,t.jsx)("span",{children:"2"}),(0,t.jsx)("span",{children:"3"}),(0,t.jsx)("span",{children:"4"}),(0,t.jsx)("span",{children:"5"})]})]})]},e)})(e))}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Notes (optionnel)"}),(0,t.jsx)("textarea",{value:d,onChange:e=>m(e.target.value),placeholder:"Quelque chose de particulier à noter ? Événements, ressentis...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3})]}),(0,t.jsx)("div",{className:"flex gap-3 pt-4",children:(0,t.jsxs)("button",{type:"submit",className:"flex-1 px-6 py-3 rounded-lg font-medium transition-colors ".concat("bg-".concat(p.color," text-white hover:bg-").concat(p.color.replace("-500","-600"))),children:[l?"✏️ Modifier":"✅ Enregistrer"," mon bien-être"]})}),l&&(0,t.jsxs)("div",{className:"text-center text-sm text-gray-500",children:["Dernière mise à jour: ",new Date(l.completedAt).toLocaleString("fr-FR")]}),(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(p.bgColor," text-center"),children:(0,t.jsxs)("p",{className:"text-sm ".concat(p.textColor),children:["energetic"===n&&"Tu rayonnes aujourd'hui ! Ces bonnes sensations sont précieuses à noter ✨","normal"===n&&"Tracking habituel, tu prends bien soin de toi 📊","tired"===n&&"Même fatigué(e), tu prends le temps de t'écouter. C'est courageux 💤","stressed"===n&&"Prendre conscience de son état, c'est déjà un pas vers l'apaisement 🤗","sad"===n&&"Tu as le courage de noter comment ça va. Chaque petite action compte ❤️"]})})]})]})}function er(){let{medications:e,medicationEntries:a,addMedication:r,logMedication:n,updateMedication:l,deleteMedication:o}=(0,ea.useHealth)(),{currentMood:c}=(0,i.useMood)(),{reminders:d}=(0,b.useReminders)(),[m,u]=(0,s.useState)(!1),[x,p]=(0,s.useState)(null),[h,g]=(0,s.useState)({dose:"",notes:"",effectiveness:3,sideEffects:[]}),j=e.filter(e=>e.isActive),v=new Date().setHours(0,0,0,0),f=a.filter(e=>new Date(e.takenAt).setHours(0,0,0,0)===v),y=async e=>{e.preventDefault(),x&&(n({medicationId:x.id,takenAt:Date.now(),dose:h.dose||void 0,notes:h.notes||void 0,effectiveness:h.effectiveness,sideEffects:h.sideEffects,mood:c}),p(null),g({dose:"",notes:"",effectiveness:3,sideEffects:[]}))};return x?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:["Logger ",x.name]}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dose prise (optionnel)"}),(0,t.jsx)("input",{type:"text",value:h.dose,onChange:e=>g(t=>({...t,dose:e.target.value})),placeholder:x.dosage,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Efficacité ressentie"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-red-600",children:"Inefficace"}),(0,t.jsx)("input",{type:"range",min:"1",max:"5",value:h.effectiveness,onChange:e=>g(t=>({...t,effectiveness:parseInt(e.target.value)})),className:"mx-4 flex-1"}),(0,t.jsx)("span",{className:"text-sm text-green-600",children:"Très efficace"})]}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-600 mt-1",children:[h.effectiveness,"/5"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effets secondaires ressentis"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:ea.COMMON_SIDE_EFFECTS.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>{g(t=>({...t,sideEffects:t.sideEffects.find(t=>t.id===e.id)?t.sideEffects.filter(t=>t.id!==e.id):[...t.sideEffects,e]}))},className:"p-2 text-sm rounded border transition-colors ".concat(h.sideEffects.find(t=>t.id===e.id)?"bg-red-100 border-red-300 text-red-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"),children:e.name},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes pour le médecin"}),(0,t.jsx)("textarea",{value:h.notes,onChange:e=>g(t=>({...t,notes:e.target.value})),placeholder:"Observations, questions à poser...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>p(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"✅ Enregistrer"})]})]})]})}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Mes médications"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Suivi des prises et effets pour vos consultations"})]}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"+ Ajouter"})]}),0===j.length?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("span",{className:"text-4xl block mb-4",children:"💊"}),(0,t.jsx)("p",{children:"Aucune médication enregistrée"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Ajoutez vos traitements pour faciliter le suivi"})]}):(0,t.jsx)("div",{className:"grid gap-4",children:j.map(e=>{let s=f.filter(t=>t.medicationId===e.id),i=a.filter(t=>t.medicationId===e.id).sort((e,t)=>t.takenAt-e.takenAt)[0];return(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-4 hover:shadow-sm transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-".concat(e.color,"-100 flex items-center justify-center"),children:(0,t.jsx)("span",{className:"text-lg",children:e.icon})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.dosage," • ",e.frequency]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-sm font-medium ".concat(s.length>0?"text-green-600":"text-orange-600"),children:s.length>0?"✓ Pris ".concat(s.length,"x"):"Pas encore pris"}),i&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Dernière prise: ",new Date(i.takenAt).toLocaleDateString("fr-FR")]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>(e=>{p(e);let t=a.filter(t=>t.medicationId===e.id).sort((e,t)=>t.takenAt-e.takenAt)[0];t&&g({dose:t.dose||"",notes:"",effectiveness:t.effectiveness||3,sideEffects:[]})})(e),className:"flex-1 px-3 py-2 text-sm rounded ".concat(s.length>0?"bg-gray-100 text-gray-600":"bg-blue-600 text-white hover:bg-blue-700"),children:s.length>0?"📝 Modifier":"💊 Je viens de prendre"}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"px-3 py-2 text-sm border border-gray-300 rounded hover:bg-gray-50",children:"⚙️"})]}),e.notes&&(0,t.jsx)("div",{className:"mt-3 p-2 bg-gray-50 rounded text-sm text-gray-600",children:e.notes})]},e.id)})}),d.filter(e=>e.isActive).length>0&&(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"💡 Conseil"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"Vous avez des rappels de médication configurés. Ce tracking vous aide à noter les effets et préparer vos RDV médecin !"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"📋 Pourquoi tracker ?"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("p",{children:"• Identifier les corrélations médication ↔ mood"}),(0,t.jsx)("p",{children:"• Préparer les questions pour votre médecin"}),(0,t.jsx)("p",{children:"• Détecter les effets secondaires"}),(0,t.jsx)("p",{children:"• Optimiser les dosages avec votre prescripteur"})]})]})]})}function en(){let{activities:e,logActivity:a,deleteActivity:r,getTodayActivities:n}=(0,ea.useHealth)(),{currentMood:l}=(0,i.useMood)(),[o,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)({type:"walk",customName:"",duration:"",enjoyment:3,notes:""}),u=n(),x=async e=>{e.preventDefault(),a({date:Date.now(),type:d.type,customName:d.customName||void 0,duration:d.duration?parseInt(d.duration):void 0,enjoyment:d.enjoyment,notes:d.notes||void 0,mood:l}),m({type:"walk",customName:"",duration:"",enjoyment:3,notes:""}),c(!1)};return o?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"J'ai bougé aujourd'hui ! 🏃‍♂️"}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Type d'activité"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.values(ea.ACTIVITY_TYPES).map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>m(t=>({...t,type:e.id})),className:"p-3 rounded-lg border-2 transition-colors ".concat(d.type===e.id?"border-".concat(e.color," bg-").concat(e.color.replace("-500","-50")):"border-gray-200 hover:bg-gray-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-xl block mb-1",children:e.emoji}),(0,t.jsx)("span",{className:"text-xs font-medium",children:e.name})]})},e.id))})]}),"other"===d.type&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Préciser l'activité"}),(0,t.jsx)("input",{type:"text",value:d.customName,onChange:e=>m(t=>({...t,customName:e.target.value})),placeholder:"Ex: Yoga, natation, jardinage...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Durée (optionnel)"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"number",value:d.duration,onChange:e=>m(t=>({...t,duration:e.target.value})),placeholder:"30",className:"w-20 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"minutes"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Niveau de plaisir"}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-red-600",children:"😞 Pénible"}),(0,t.jsx)("input",{type:"range",min:"1",max:"5",value:d.enjoyment,onChange:e=>m(t=>({...t,enjoyment:parseInt(e.target.value)})),className:"mx-4 flex-1"}),(0,t.jsx)("span",{className:"text-sm text-green-600",children:"😄 Génial"})]}),(0,t.jsxs)("div",{className:"text-center text-sm text-gray-600 mt-1",children:[d.enjoyment,"/5"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (optionnel)"}),(0,t.jsx)("textarea",{value:d.notes,onChange:e=>m(t=>({...t,notes:e.target.value})),placeholder:"Comment je me sens après ? Observations...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 resize-none",rows:3})]}),(0,t.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Bénéfice mental:"})," ",ea.ACTIVITY_TYPES[d.type].mentalBenefit]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>c(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"✅ C'est noté !"})]})]})]})}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Activité physique"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Pas de comptage obsessionnel, juste noter quand tu bouges ! 💪"})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:()=>c(!0),className:"px-8 py-4 bg-green-600 text-white rounded-xl hover:bg-green-700 font-medium text-lg",children:"🏃‍♂️ J'ai bougé aujourd'hui !"})}),u.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"Aujourd'hui"}),(0,t.jsx)("div",{className:"space-y-3",children:u.map(e=>{let s=ea.ACTIVITY_TYPES[e.type];return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:s.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:e.customName||s.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.duration&&"".concat(e.duration,"min • "),"Plaisir: ",e.enjoyment,"/5",e.notes&&" • ".concat(e.notes)]})]})]}),(0,t.jsx)("button",{onClick:()=>r(e.id),className:"text-gray-400 hover:text-red-500 p-1",children:"🗑️"})]},e.id)})})]}),e.length>u.length&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"Récemment"}),(0,t.jsx)("div",{className:"space-y-2",children:e.filter(e=>!u.includes(e)).sort((e,t)=>t.date-e.date).slice(0,5).map(e=>{let s=ea.ACTIVITY_TYPES[e.type];return(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white border rounded-lg",children:[(0,t.jsx)("span",{className:"text-lg",children:s.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"font-medium text-gray-800",children:e.customName||s.name}),e.duration&&(0,t.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:["(",e.duration,"min)"]})]}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:(e=>{let t=Math.floor((Date.now()-e)/36e5);return t<1?"À l'instant":t<24?"Il y a ".concat(t,"h"):new Date(e).toLocaleDateString("fr-FR")})(e.date)})]},e.id)})})]}),0===e.length&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg text-center",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Pourquoi noter mes activités ?"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("p",{children:"• Voir l'impact sur ton mood et ton énergie"}),(0,t.jsx)("p",{children:"• Célébrer chaque mouvement, même petit"}),(0,t.jsx)("p",{children:"• Identifier les activités qui te font du bien"}),(0,t.jsx)("p",{children:"• Aucune pression, juste de la bienveillance ! 💙"})]})]}),e.length>0&&(0,t.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-lg text-center",children:(0,t.jsxs)("p",{className:"text-purple-800",children:["🎉 ",e.length," activité",e.length>1?"s":""," notée",e.length>1?"s":""," ! Continue à prendre soin de toi."]})})]})}function el(){let{appointments:e,addAppointment:a,updateAppointment:i,deleteAppointment:r,getUpcomingAppointments:n}=(0,ea.useHealth)(),[l,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)({type:"general",doctorName:"",date:"",time:"",duration:30,location:"",notes:"",questionsToAsk:[""]}),m=n(),u=e.filter(e=>e.isCompleted||e.date<Date.now()).sort((e,t)=>t.date-e.date).slice(0,5),x=async e=>{e.preventDefault();let t=new Date("".concat(c.date,"T").concat(c.time)).getTime(),s=ea.APPOINTMENT_TYPES[c.type];a({type:c.type,doctorName:c.doctorName,date:t,duration:c.duration,location:c.location||void 0,notes:c.notes||void 0,questionsToAsk:c.questionsToAsk.filter(e=>e.trim()),followUpNotes:void 0,isCompleted:!1,reminders:s.defaultReminders.map(e=>({daysBefore:e,isEnabled:!0}))}),d({type:"general",doctorName:"",date:"",time:"",duration:30,location:"",notes:"",questionsToAsk:[""]}),o(!1)},p=e=>{let s=ea.APPOINTMENT_TYPES[e.type],a=e.date>Date.now(),n=new Date(e.date).toDateString()===new Date().toDateString(),l=new Date(e.date).toDateString()===new Date(Date.now()+864e5).toDateString();return(0,t.jsx)("div",{className:"p-4 rounded-lg border ".concat(n?"bg-yellow-50 border-yellow-300":l?"bg-blue-50 border-blue-300":a?"bg-white border-gray-200":"bg-gray-50 border-gray-200"),children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 flex-1",children:[(0,t.jsx)("span",{className:"text-xl",children:s.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:s.name}),n&&(0,t.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Aujourd'hui"}),l&&(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Demain"})]}),(0,t.jsxs)("div",{className:"text-gray-600",children:["Dr. ",e.doctorName]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.date).toLocaleString("fr-FR",{weekday:"long",day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"}),e.duration&&" • ".concat(e.duration,"min"),e.location&&" • ".concat(e.location)]}),e.questionsToAsk&&e.questionsToAsk.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Questions à poser:"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 list-disc list-inside",children:[e.questionsToAsk.slice(0,2).map((e,s)=>(0,t.jsx)("li",{children:e},s)),e.questionsToAsk.length>2&&(0,t.jsxs)("li",{className:"text-gray-500",children:["+",e.questionsToAsk.length-2," autre",e.questionsToAsk.length-2>1?"s":"","..."]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[a&&(0,t.jsx)("button",{onClick:()=>i(e.id,{isCompleted:!0,followUpNotes:""}),className:"text-sm px-3 py-1 bg-green-100 text-green-700 rounded hover:bg-green-200",children:"✓ Fait"}),(0,t.jsx)("button",{onClick:()=>r(e.id),className:"text-gray-400 hover:text-red-500 p-1",children:"🗑️"})]})]})},e.id)};return l?(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-6 text-center",children:"Nouveau RDV médical"}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Type de rendez-vous"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.values(ea.APPOINTMENT_TYPES).map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>d(t=>({...t,type:e.id,duration:e.defaultDuration})),className:"p-3 rounded-lg border-2 transition-colors ".concat(c.type===e.id?"border-".concat(e.color," bg-").concat(e.color.replace("-500","-50")):"border-gray-200 hover:bg-gray-50"),children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("span",{className:"text-xl block mb-1",children:e.emoji}),(0,t.jsx)("span",{className:"text-xs font-medium",children:e.name})]})},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nom du médecin"}),(0,t.jsx)("input",{type:"text",value:c.doctorName,onChange:e=>d(t=>({...t,doctorName:e.target.value})),placeholder:"Dr. Martin",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),(0,t.jsx)("input",{type:"date",value:c.date,onChange:e=>d(t=>({...t,date:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heure"}),(0,t.jsx)("input",{type:"time",value:c.time,onChange:e=>d(t=>({...t,time:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lieu (optionnel)"}),(0,t.jsx)("input",{type:"text",value:c.location,onChange:e=>d(t=>({...t,location:e.target.value})),placeholder:"Cabinet médical, hôpital...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Questions à poser"}),(0,t.jsxs)("div",{className:"space-y-2",children:[c.questionsToAsk.map((e,s)=>(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:e,onChange:e=>{var t;return t=e.target.value,void d(e=>({...e,questionsToAsk:e.questionsToAsk.map((e,a)=>a===s?t:e)}))},placeholder:"Ex: Ajuster la dose ? Effets secondaires...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),c.questionsToAsk.length>1&&(0,t.jsx)("button",{type:"button",onClick:()=>{d(e=>({...e,questionsToAsk:e.questionsToAsk.filter((e,t)=>t!==s)}))},className:"text-red-500 hover:text-red-700",children:"❌"})]},s)),(0,t.jsx)("button",{type:"button",onClick:()=>{d(e=>({...e,questionsToAsk:[...e.questionsToAsk,""]}))},className:"text-sm text-blue-600 hover:text-blue-800",children:"+ Ajouter une question"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>o(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Annuler"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"📅 Programmer le RDV"})]})]})]})}):(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Calendrier médical"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Gérer vos RDV et préparer vos consultations"})]}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"+ Nouveau RDV"})]}),m.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"À venir"}),(0,t.jsx)("div",{className:"space-y-3",children:m.map(p)})]}),u.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800",children:"Historique"}),(0,t.jsx)("div",{className:"space-y-3",children:u.map(p)})]}),0===e.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("span",{className:"text-4xl block mb-4",children:"📅"}),(0,t.jsx)("p",{children:"Aucun RDV programmé"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Ajoutez vos consultations pour mieux les préparer"})]}),(0,t.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-indigo-800 mb-2",children:"💡 Conseils RDV médical ADHD"}),(0,t.jsxs)("div",{className:"text-sm text-indigo-700 space-y-1",children:[(0,t.jsx)("p",{children:"• Préparez vos questions à l'avance (mémoire ADHD !)"}),(0,t.jsx)("p",{children:"• Notez les effets de vos médications"}),(0,t.jsx)("p",{children:"• Apportez votre historique de bien-être"}),(0,t.jsx)("p",{children:"• N'hésitez pas à demander des clarifications"})]})]})]})}function eo(){let{wellbeingEntries:e,activities:a,medicationEntries:i,getWellbeingPattern:r}=(0,ea.useHealth)(),[n,l]=(0,s.useState)("energy"),[o,c]=(0,s.useState)("week"),d=r(n,"week"===o?7:30),m=ea.WELLBEING_METRICS[n];return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Tendances et patterns"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Visualisez l'évolution de votre bien-être dans le temps"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 justify-center",children:[(0,t.jsx)("div",{className:"flex gap-2",children:Object.values(ea.WELLBEING_METRICS).map(e=>(0,t.jsxs)("button",{onClick:()=>l(e.id),className:"px-3 py-2 rounded-lg text-sm transition-colors ".concat(n===e.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[e.emoji," ",e.name]},e.id))}),(0,t.jsx)("div",{className:"flex gap-2",children:[{id:"week",label:"7 jours"},{id:"month",label:"30 jours"}].map(e=>(0,t.jsx)("button",{onClick:()=>c(e.id),className:"px-3 py-2 rounded-lg text-sm transition-colors ".concat(o===e.id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:e.label},e.id))})]}),d.data.length<2?(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("span",{className:"text-4xl block mb-4",children:"📊"}),(0,t.jsx)("p",{children:"Pas encore assez de données"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Continuez à logger votre bien-être pour voir les tendances !"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-800",children:[m.emoji," ",m.name," - ","week"===o?"7 derniers jours":"30 derniers jours"]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[d.data.length," entrée",d.data.length>1?"s":""]})]}),(0,t.jsx)("div",{className:"relative h-48 flex items-end gap-2 overflow-x-auto",children:d.data.slice(-14).map((e,s)=>{let a=(Number(e.value)-1)/4*100,i=new Date(e.date),r=i.toDateString()===new Date().toDateString();return(0,t.jsxs)("div",{className:"flex flex-col items-center min-w-0 flex-1",children:[(0,t.jsx)("div",{className:"w-full rounded-t transition-all duration-300 ".concat(Number(e.value)>=4?"bg-green-500":Number(e.value)>=3?"bg-yellow-500":"bg-red-500"," ").concat(r?"ring-2 ring-blue-400":""),style:{height:"".concat(a,"%"),minHeight:"4px"},title:"".concat(Number(e.value),"/5 - ").concat(i.toLocaleDateString("fr-FR"))}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1 text-center",children:[i.getDate(),"/",i.getMonth()+1]})]},s)})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[(0,t.jsxs)("span",{children:["1 - ",m.scale[1].label]}),(0,t.jsxs)("span",{children:["5 - ",m.scale[5].label]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(d.data.reduce((e,t)=>e+Number(t.value),0)/d.data.length).toFixed(1)}),(0,t.jsx)("div",{className:"text-sm text-blue-700",children:"Moyenne"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:Math.max(...d.data.map(e=>Number(e.value)))}),(0,t.jsx)("div",{className:"text-sm text-green-700",children:"Maximum"})]}),(0,t.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:Math.min(...d.data.map(e=>Number(e.value)))}),(0,t.jsx)("div",{className:"text-sm text-orange-700",children:"Minimum"})]})]})]}),(()=>{if(d.data.length<5)return null;let e=d.data.slice(-7),s=d.data.slice(-14,-7);if(0===s.length)return null;let a=e.reduce((e,t)=>e+Number(t.value),0)/e.length-s.reduce((e,t)=>e+Number(t.value),0)/s.length;return(0,t.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-purple-800 mb-2",children:"🔍 Observations"}),(0,t.jsxs)("div",{className:"text-sm text-purple-700 space-y-1",children:[Math.abs(a)>.5?(0,t.jsxs)("p",{children:[a>0?"📈 Tendance à l'amélioration":"📉 Tendance à la baisse"," ","cette semaine (",a>0?"+":"",a.toFixed(1),")"]}):(0,t.jsxs)("p",{children:["📊 Votre ",m.name.toLowerCase()," reste stable"]}),d.data.filter(e=>Number(e.value)>=4).length/d.data.length>.6&&(0,t.jsx)("p",{children:"✨ Plutôt en forme ces derniers temps !"}),d.data.filter(e=>2>=Number(e.value)).length/d.data.length>.3&&(0,t.jsx)("p",{children:"💙 Période un peu difficile, c'est normal et ça passe"})]})]})})(),a.length>5&&e.length>5&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"🔗 Corrélations observées"}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsx)("p",{children:"• Les jours avec activité physique: énergie moyenne +0.5 pts"}),(0,t.jsx)("p",{children:"• Suivi régulier = meilleure stabilité du bien-être"}),(0,t.jsx)("p",{children:"• Continuez comme ça, ces données vous aident ! 📊"})]})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("button",{className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"📄 Exporter pour mon médecin"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Génère un rapport PDF avec vos données des 30 derniers jours"})]})]})}function ec(){let[e,a]=(0,s.useState)("overview"),{getStats:r,getTodayWellbeing:n,getTodayActivities:l,getUpcomingAppointments:o}=(0,ea.useHealth)(),{getMoodConfig:c}=(0,i.useMood)(),d=r(),m=c(),u=n(),x=l(),p=o(),h=[{id:"overview",label:"Vue d'ensemble",emoji:"🏠"},{id:"wellbeing",label:"Bien-être",emoji:"😌",badge:!u},{id:"medications",label:"Médications",emoji:"💊",badge:d.today.medicationsTaken<d.today.totalMedications},{id:"activity",label:"Activité",emoji:"🏃‍♂️",badge:0===x.length},{id:"appointments",label:"RDV",emoji:"📅",badge:p.length>0},{id:"patterns",label:"Tendances",emoji:"📈"}];return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(m.bgColor," border-l-4"),style:{borderLeftColor:m.color},children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:m.emoji}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium ".concat(m.textColor),children:"Suivi santé adapté à ton mood"}),(0,t.jsx)("p",{className:"text-sm ".concat(m.textColor," opacity-80"),children:"Énergique"===m.label?"Super forme ! Note tes bonnes sensations ✨":"Normal"===m.label?"Tracking de routine, comment ça va ? 📊":"Fatigué"===m.label?"Fatigué... c'est important de le noter aussi 💤":"Stressé"===m.label?"Anxiété élevée, tracking pour comprendre 🤗":"Période difficile, on surveille ensemble ❤️"})]})]})}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:h.map(s=>(0,t.jsxs)("button",{onClick:()=>a(s.id),className:"px-4 py-2 rounded-lg whitespace-nowrap flex items-center gap-2 transition-colors relative ".concat(e===s.id?"bg-".concat(m.color.replace("-500","-100")," text-").concat(m.color.replace("-500","-700")):"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[(0,t.jsx)("span",{children:s.emoji}),(0,t.jsx)("span",{className:"text-sm font-medium",children:s.label}),s.badge&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"})]},s.id))}),(0,t.jsx)("div",{className:"bg-white rounded-lg border min-h-[400px]",children:(()=>{switch(e){case"wellbeing":return(0,t.jsx)(ei,{});case"medications":return(0,t.jsx)(er,{});case"activity":return(0,t.jsx)(en,{});case"appointments":return(0,t.jsx)(el,{});case"patterns":return(0,t.jsx)(eo,{});default:return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Tableau de bord santé"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Suivi simple et bienveillant de votre bien-être"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(u?"bg-green-50":"bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-2xl",children:"😌"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-bold ".concat(u?"text-green-600":"text-gray-500"),children:u?"✓":"○"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Bien-être"})]})]})}),(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(x.length>0?"bg-blue-50":"bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-2xl",children:"🏃‍♂️"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-bold ".concat(x.length>0?"text-blue-600":"text-gray-500"),children:x.length}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Activité"})]})]})}),(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(d.today.medicationsTaken===d.today.totalMedications?"bg-purple-50":"bg-orange-50"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-2xl",children:"💊"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"font-bold ".concat(d.today.medicationsTaken===d.today.totalMedications?"text-purple-600":"text-orange-600"),children:[d.today.medicationsTaken,"/",d.today.totalMedications]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Médications"})]})]})}),(0,t.jsx)("div",{className:"p-4 rounded-lg ".concat(p.length>0?"bg-yellow-50":"bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-2xl",children:"📅"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-bold ".concat(p.length>0?"text-yellow-600":"text-gray-500"),children:p.length}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"RDV à venir"})]})]})})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[!u&&(0,t.jsx)("button",{onClick:()=>a("wellbeing"),className:"p-4 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg text-left hover:shadow-sm transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"😌"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-800",children:"Logger mon bien-être"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"30 secondes pour noter comment ça va"})]})]})}),0===x.length&&(0,t.jsx)("button",{onClick:()=>a("activity"),className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-lg text-left hover:shadow-sm transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"🏃‍♂️"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-800",children:"J'ai bougé aujourd'hui ?"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Noter une activité physique"})]})]})}),d.today.medicationsTaken<d.today.totalMedications&&(0,t.jsx)("button",{onClick:()=>a("medications"),className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-lg text-left hover:shadow-sm transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"💊"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-800",children:"Médications"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Noter la prise et effets"})]})]})}),p.length>0&&(0,t.jsx)("button",{onClick:()=>a("appointments"),className:"p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border border-yellow-200 rounded-lg text-left hover:shadow-sm transition-shadow",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-2xl",children:"📅"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-800",children:"RDV à venir"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Préparer mes consultations"})]})]})})]}),(d.week.wellbeingDays>0||d.week.activityDays>0)&&(0,t.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"Cette semaine"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.week.wellbeingDays}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"jours de suivi bien-être"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:d.week.activityDays}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"jours d'activité"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:d.week.avgWellbeing.energy>0?Math.round(10*d.week.avgWellbeing.energy)/10:"-"}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:"énergie moyenne"})]})]}),d.week.wellbeingDays>=5&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-green-100 rounded-lg text-center",children:(0,t.jsx)("span",{className:"text-green-800",children:"🎉 Excellent suivi cette semaine !"})})]}),0===d.week.wellbeingDays&&0===d.week.activityDays&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 p-6 rounded-lg text-center",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Bienvenue dans votre suivi santé !"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Commencez par noter comment vous vous sentez aujourd'hui. Rien de compliqué, juste 30 secondes pour vous écouter."}),(0,t.jsx)("button",{onClick:()=>a("wellbeing"),className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"🚀 Commencer mon suivi"})]})]})}})()})]})}var ed=e.i(25450);function em(){let{patterns:e,correlations:a,insights:i,actionSuggestions:r,getDailyInsightSummary:n,getTopInsights:l,enabledCategories:o,setEnabledCategories:c,refreshAnalysis:d}=(0,ed.useAnalytics)(),[m,u]=(0,s.useState)("all"),[x,p]=(0,s.useState)(!1),[h,g]=(0,s.useState)(null),b=n(),j=l("all"===m?void 0:m,3),v=async()=>{p(!0);try{await d()}finally{p(!1)}},f=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-4 hover:shadow-sm transition-shadow ".concat(s?"text-sm":""),children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"text-2xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-2 ".concat(s?"text-sm":""),children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 ".concat(s?"text-xs":"text-sm"),children:e.message}),!s&&(0,t.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,t.jsxs)("span",{children:["Confiance: ",Math.round(100*e.confidence),"%"]}),(0,t.jsxs)("span",{children:["Pertinence: ",Math.round(100*e.relevanceScore),"%"]}),(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("mood"===e.category?"bg-purple-100 text-purple-700":"health"===e.category?"bg-green-100 text-green-700":"finance"===e.category?"bg-blue-100 text-blue-700":"productivity"===e.category?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-700"),children:e.category})]}),e.supportingData.pattern&&(0,t.jsx)("button",{onClick:()=>g(h===e.id?null:e.id),className:"text-xs text-blue-600 hover:text-blue-800",children:h===e.id?"Masquer les détails":"Voir le pattern détaillé"})]})]})]}),h===e.id&&e.supportingData.pattern&&(0,t.jsxs)("div",{className:"mt-4 p-3 bg-gray-50 rounded text-xs",children:[(0,t.jsx)("div",{className:"font-medium text-gray-700 mb-2",children:"Pattern détecté:"}),(0,t.jsxs)("div",{className:"space-y-1 text-gray-600",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Type:"})," ",e.supportingData.pattern.type]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Description:"})," ",e.supportingData.pattern.description]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Points de données:"})," ",e.supportingData.pattern.dataPoints.length]}),e.supportingData.pattern.metadata.frequency&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Fréquence:"})," ",e.supportingData.pattern.metadata.frequency]}),e.supportingData.pattern.metadata.strength&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Force:"})," ",Math.round(100*e.supportingData.pattern.metadata.strength),"%"]})]})]})]},e.id)},y=e=>(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"text-xl",children:e.emoji}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-blue-800 mb-1",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-blue-700 mb-3",children:e.description}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 text-xs text-blue-600",children:[(0,t.jsx)("span",{className:"px-2 py-1 rounded ".concat("easy"===e.difficulty?"bg-green-100 text-green-700":"medium"===e.difficulty?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"),children:"easy"===e.difficulty?"🟢 Facile":"medium"===e.difficulty?"🟡 Moyen":"🔴 Difficile"}),(0,t.jsxs)("span",{children:["⏱️ ",e.timeCommitment]}),(0,t.jsxs)("span",{children:["Impact: ",Math.round(100*e.estimatedImpact),"%"]})]}),e.specificActions.length>0&&(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsx)("div",{className:"font-medium text-blue-700 mb-1",children:"Actions concrètes:"}),(0,t.jsx)("ul",{className:"list-disc list-inside text-blue-600 space-y-0.5",children:e.specificActions.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})]})]})]})},e.id);return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"📊 Vos insights personnels"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Découvrez les patterns cachés dans votre quotidien"})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:v,disabled:x,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:x?"🔄 Analyse en cours...":"🔍 Analyser maintenant"})}),b&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-purple-800 mb-4 text-center",children:"✨ Résumé du jour"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-purple-700 mb-3",children:"Insight principal"}),f(b.mainInsight,!0)]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-purple-700 mb-3",children:"Métriques clés"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"bg-white bg-opacity-70 p-3 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-800",children:b.keyMetrics.wellbeingAvg.toFixed(1)}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Bien-être moyen"})]}),(0,t.jsxs)("div",{className:"bg-white bg-opacity-70 p-3 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-800",children:b.keyMetrics.tasksCompleted}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Tâches terminées"})]}),(0,t.jsxs)("div",{className:"bg-white bg-opacity-70 p-3 rounded text-center",children:[(0,t.jsxs)("div",{className:"text-lg font-bold text-gray-800",children:[b.keyMetrics.expenseTotal,"€"]}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Dépenses"})]}),(0,t.jsxs)("div",{className:"bg-white bg-opacity-70 p-3 rounded text-center",children:[(0,t.jsx)("div",{className:"text-lg font-bold text-gray-800",children:b.keyMetrics.activitiesLogged}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Activités"})]})]})]})]}),b.actionSuggestion&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"font-medium text-purple-700 mb-3",children:"💡 Action suggérée"}),y(b.actionSuggestion)]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 justify-center",children:["all","mood","productivity","health","finance","lifestyle"].map(e=>(0,t.jsx)("button",{onClick:()=>u(e),className:"px-4 py-2 rounded-lg text-sm transition-colors ".concat(m===e?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"all"===e?"🔍 Tout":"mood"===e?"💭 Humeur":"productivity"===e?"⚡ Productivité":"health"===e?"🏥 Santé":"finance"===e?"💰 Finances":"🌟 Style de vie"},e))}),j.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 text-center",children:"🎯 Insights les plus pertinents"}),(0,t.jsx)("div",{className:"grid gap-4",children:j.map(e=>f(e))})]}),r.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 text-center",children:"💡 Suggestions d'actions"}),(0,t.jsx)("div",{className:"grid gap-4",children:r.slice(0,3).map(y)})]}),a.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 text-center",children:"🔗 Corrélations découvertes"}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:a.slice(0,6).map(e=>(0,t.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,t.jsx)("div",{className:"text-lg",children:"🔗"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h4",{className:"font-semibold text-gray-800",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.variableA.name}),(0,t.jsx)("span",{className:"mx-2",children:"↔"}),(0,t.jsx)("span",{className:"font-medium",children:e.variableB.name})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"px-3 py-1 rounded text-sm ".concat("strong"===e.strength?"bg-red-100 text-red-700":"moderate"===e.strength?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"),children:"strong"===e.strength?"Forte":"moderate"===e.strength?"Modérée":"Faible"}),(0,t.jsx)("div",{className:"px-3 py-1 rounded text-sm ".concat("positive"===e.direction?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:"positive"===e.direction?"📈 Positive":"📉 Négative"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Coefficient: ",e.coefficient.toFixed(3)," | Échantillon: ",e.sampleSize," points | Période: ",e.timeframe," jours"]})]})]},e.id))})]}),0===i.length&&0===e.length&&0===a.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("span",{className:"text-4xl block mb-4",children:"🔍"}),(0,t.jsx)("p",{children:"Pas encore assez de données pour générer des insights"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Continuez à utiliser l'app pendant quelques jours pour voir apparaître vos patterns !"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,t.jsx)("h4",{className:"font-medium text-green-800 mb-2",children:"🌱 Votre progression"}),(0,t.jsx)("p",{className:"text-sm text-green-700",children:"Chaque données que vous loggez enrichit votre compréhension personnelle. Ces insights sont générés pour VOUS, par rapport à VOS patterns uniques !"})]})]})}function eu(e){let{onComplete:a}=e,{setMood:r}=(0,i.useMood)(),[n,l]=(0,s.useState)(0),[o,c]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),u=[{title:"👋 Bienvenue !",content:(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"🧠"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"ADHD Life Assistant"}),(0,t.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"Votre assistant personnel conçu spécialement pour les cerveaux ADHD. Nous allons vous aider à gérer votre quotidien avec bienveillance."}),(0,t.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"💡 Toutes vos données restent sur votre appareil, en sécurité et privées"})})]})},{title:"✨ Comment vous appeler ?",content:(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"👤"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Personnalisons votre expérience"}),(0,t.jsx)("div",{className:"max-w-sm mx-auto",children:(0,t.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Votre prénom...",className:"w-full px-4 py-3 text-center border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg",autoFocus:!0})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Nous utiliserons ce prénom pour personnaliser vos messages"})]})},{title:"🎭 Comment vous sentez-vous ?",content:(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-800",children:[o?"".concat(o,", "):"","comment vous sentez-vous maintenant ?"]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Votre humeur influence l'interface et les suggestions. Pas de pression, ça peut changer !"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3 max-w-2xl mx-auto",children:Object.values(i.MOOD_CONFIG).map(e=>(0,t.jsxs)("button",{onClick:()=>m(e.id),className:"p-4 rounded-xl transition-all ".concat(d===e.id?"".concat(e.bgColor," ").concat(e.textColor," ring-2 ring-current transform scale-105"):"bg-gray-100 hover:bg-gray-200 hover:scale-105"),children:[(0,t.jsx)("div",{className:"text-3xl mb-2",children:e.emoji}),(0,t.jsx)("div",{className:"font-medium text-sm",children:e.label}),(0,t.jsx)("div",{className:"text-xs opacity-70 mt-1",children:e.description})]},e.id))})]})},{title:"🚀 C'est parti !",content:(0,t.jsxs)("div",{className:"text-center space-y-6",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"🎉"}),(0,t.jsxs)("h3",{className:"text-xl font-semibold text-gray-800",children:["Parfait ",o||"mon ami"," !"]}),(0,t.jsx)("p",{className:"text-gray-600 max-w-md mx-auto",children:"Votre ADHD Life Assistant est configuré. L'interface s'adapte maintenant à votre humeur."}),(0,t.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg max-w-lg mx-auto",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-800 mb-3",children:"🌟 Vos modules disponibles :"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-green-700",children:[(0,t.jsx)("div",{children:"💰 Finances empathiques"}),(0,t.jsx)("div",{children:"🧹 Ménage gamifié"}),(0,t.jsx)("div",{children:"🏥 Suivi santé ADHD"}),(0,t.jsx)("div",{children:"📊 Analytics personnels"}),(0,t.jsx)("div",{children:"💊 Rappels médicaments"}),(0,t.jsx)("div",{children:"🍳 Cuisine adaptative"})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"💡 Conseil : Commencez par explorer un module qui vous intéresse !"})})]})}],x=(n+1)/u.length*100;return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsx)("div",{className:"progress-bar m-6 mb-0",children:(0,t.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(x,"%")}})}),(0,t.jsx)("div",{className:"p-6 pb-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold text-gray-800",children:u[n].title}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[n+1," / ",u.length]})]})}),(0,t.jsx)("div",{className:"p-6 pt-4 module-transition",children:u[n].content}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-6 pt-0 border-t border-gray-100",children:[(0,t.jsx)("button",{onClick:()=>{n>0&&l(n-1)},disabled:0===n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:"← Précédent"}),(0,t.jsx)("button",{onClick:()=>{(1!==n||o.trim())&&(2!==n||d)&&(n<u.length-1?l(n+1):(d&&r(d),o&&localStorage.setItem("adhd-assistant-username",o),localStorage.setItem("adhd-assistant-onboarded","true"),a()))},disabled:!(1===n?o.trim().length>0:2!==n||""!==d),className:"btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:n===u.length-1?"🚀 Commencer":"Suivant →"})]})]})})}function ex(e){var a,i;let{isOpen:r,onClose:n}=e,{profile:l,updateName:o,updateAge:c,updateChronotype:d,updateChallenges:m,addMedication:x,removeMedication:p,clearProfile:g}=(0,u.useProfile)(),[b,j]=(0,s.useState)(l.name),[v,f]=(0,s.useState)((null==(a=l.age)?void 0:a.toString())||""),[y,N]=(0,s.useState)(!1),[w,C]=(0,s.useState)({name:"",time:"",frequency:"daily"});return r?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"card-elevated max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"👤 Mon Profil ADHD"}),(0,t.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 text-2xl leading-none",children:"✕"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-8",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"👤 Identité"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Prénom"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:b,onChange:e=>j(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus-ring"}),(0,t.jsx)("button",{onClick:()=>{b.trim()&&o(b.trim())},disabled:b===l.name,className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"✓"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Âge (optionnel)"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"number",min:"13",max:"100",value:v,onChange:e=>f(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus-ring"}),(0,t.jsx)("button",{onClick:()=>{c(v?parseInt(v):void 0)},disabled:v===((null==(i=l.age)?void 0:i.toString())||""),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:"✓"})]})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🕐 Mon Rythme"}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 gap-4",children:Object.entries(h.CHRONOTYPES).map(e=>{let[s,a]=e;return(0,t.jsxs)("button",{onClick:()=>d(s),className:"p-4 rounded-lg border-2 transition-all text-left ".concat(l.chronotype===s?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:a.icon}),(0,t.jsx)("div",{className:"font-medium text-gray-800 mb-1",children:a.label}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:a.description})]},s)})})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["🎯 Mes Défis ADHD (",l.challenges.length,"/3)"]}),(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-3",children:Object.entries(h.ADHD_CHALLENGES).map(e=>{let[s,a]=e,i=l.challenges.includes(s),r=!i&&l.challenges.length>=3;return(0,t.jsx)("button",{onClick:()=>(e=>{let t=[...l.challenges],s=t.indexOf(e);s>=0?t.splice(s,1):t.length<3&&t.push(e),m(t)})(s),disabled:r,className:"p-3 rounded-lg border-2 transition-all text-left ".concat(i?"border-blue-500 bg-blue-50":r?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:a.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-gray-800",children:a.label}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:a.description})]}),i&&(0,t.jsx)("span",{className:"text-blue-500 text-lg",children:"✓"})]})},s)})})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"💊 Mes Médications"}),l.medications.length>0&&(0,t.jsx)("div",{className:"space-y-3 mb-4",children:l.medications.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-blue-50 p-3 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-blue-800",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-blue-600",children:[e.time," • ",h.MEDICATION_FREQUENCIES[e.frequency]]})]}),(0,t.jsx)("button",{onClick:()=>p(e.id),className:"text-red-500 hover:text-red-700 p-2",children:"🗑️"})]},e.id))}),y?(0,t.jsxs)("div",{className:"border-2 border-dashed border-blue-300 p-4 rounded-lg space-y-3",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,t.jsx)("input",{type:"text",placeholder:"Nom du médicament",value:w.name,onChange:e=>C(t=>({...t,name:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus-ring"}),(0,t.jsx)("input",{type:"time",value:w.time,onChange:e=>C(t=>({...t,time:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus-ring"}),(0,t.jsx)("select",{value:w.frequency,onChange:e=>C(t=>({...t,frequency:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus-ring",children:Object.entries(h.MEDICATION_FREQUENCIES).map(e=>{let[s,a]=e;return(0,t.jsx)("option",{value:s,children:a},s)})})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Annuler"}),(0,t.jsx)("button",{onClick:()=>{w.name&&w.time&&(x(w),C({name:"",time:"",frequency:"daily"}),N(!1))},disabled:!w.name||!w.time,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Ajouter"})]})]}):(0,t.jsx)("button",{onClick:()=>N(!0),className:"w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors",children:"+ Ajouter une médication"})]}),(0,t.jsxs)("section",{className:"border-t pt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-red-600 mb-4",children:"⚠️ Zone Dangereuse"}),(0,t.jsx)("button",{onClick:()=>{confirm("⚠️ Êtes-vous sûr de vouloir réinitialiser votre profil ? Cette action supprimera toutes vos informations personnelles.")&&(g(),n())},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"🗑️ Réinitialiser mon profil"}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-2",children:"Cette action supprimera toutes vos informations personnelles de manière permanente."})]})]}),(0,t.jsx)("div",{className:"border-t p-6",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{onClick:n,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Fermer"})})})]})}):null}function ep(e){let{isOpen:a,onClose:r}=e,{getMoodConfig:n}=(0,i.useMood)(),[l,o]=(0,s.useState)(!1),[d,m]=(0,s.useState)({textSize:"base",notifications:!0,animations:!0,theme:"auto",language:"fr",userName:""}),u=n();(0,s.useEffect)(()=>{let e={textSize:localStorage.getItem("adhd-settings-textSize")||"base",notifications:"false"!==localStorage.getItem("adhd-settings-notifications"),animations:"false"!==localStorage.getItem("adhd-settings-animations"),theme:localStorage.getItem("adhd-settings-theme")||"auto",language:localStorage.getItem("adhd-settings-language")||"fr",userName:localStorage.getItem("adhd-assistant-username")||""};m(e),document.documentElement.classList.remove("text-size-sm","text-size-base","text-size-lg","text-size-xl"),document.documentElement.classList.add("text-size-".concat(e.textSize))},[a]);let x=(e,t)=>{m({...d,[e]:t}),localStorage.setItem("adhd-settings-".concat(e),t.toString()),"textSize"===e&&(document.documentElement.classList.remove("text-size-sm","text-size-base","text-size-lg","text-size-xl"),document.documentElement.classList.add("text-size-".concat(t))),"userName"===e&&localStorage.setItem("adhd-assistant-username",t)},p=s.default.useRef(null),h=s.default.useRef(null);return(s.default.useEffect(()=>{if(a&&p.current)return p.current.focus(),c.initializeComponent(p.current,{trapFocus:!0,radioGroups:!0})},[a,r]),a)?(0,t.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",children:[(0,t.jsxs)("div",{ref:p,className:"card-elevated max-w-2xl w-full max-h-[90vh] overflow-y-auto focus:outline-none",tabIndex:-1,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[(0,t.jsxs)("h2",{id:"settings-title",className:"text-xl font-bold text-gray-800",children:[(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:"⚙️"})," Paramètres"]}),(0,t.jsx)("button",{ref:h,onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl leading-none p-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 rounded","aria-label":"Fermer les paramètres",children:(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:"✕"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-8",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🎨 Personnalisation"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"user-name-input",className:"block text-sm font-medium text-gray-700 mb-2",children:"Votre prénom"}),(0,t.jsx)("input",{id:"user-name-input",type:"text",value:d.userName,onChange:e=>x("userName",e.target.value),placeholder:"Comment vous appeler ?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500","aria-describedby":"user-name-help"}),(0,t.jsx)("p",{id:"user-name-help",className:"mt-1 text-xs text-gray-500",children:"Utilisé pour personnaliser vos interactions avec l'assistant"})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taille du texte"}),(0,t.jsx)("div",{className:"flex gap-2",role:"radiogroup","aria-label":"Sélecteur de taille de texte",children:[{id:"sm",label:"Petit",size:"text-sm"},{id:"base",label:"Normal",size:"text-base"},{id:"lg",label:"Grand",size:"text-lg"},{id:"xl",label:"Très grand",size:"text-xl"}].map(e=>(0,t.jsx)("button",{onClick:()=>x("textSize",e.id),className:"px-3 py-2 rounded-lg text-sm transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(d.textSize===e.id?"".concat(u.bgColor," ").concat(u.textColor):"bg-gray-100 hover:bg-gray-200"),role:"radio","aria-checked":d.textSize===e.id,"aria-label":"Taille ".concat(e.label),children:(0,t.jsx)("span",{className:e.size,"aria-hidden":"true",children:"Aa"})},e.id))})]})})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🎛️ Préférences"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{id:"notifications-label",className:"font-medium text-gray-700",children:"Notifications"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Rappels et alertes"})]}),(0,t.jsxs)("button",{onClick:()=>x("notifications",!d.notifications),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(d.notifications?"bg-blue-600":"bg-gray-200"),role:"switch","aria-checked":d.notifications,"aria-labelledby":"notifications-label","aria-describedby":"notifications-desc",children:[(0,t.jsxs)("span",{className:"sr-only",children:[d.notifications?"Désactiver":"Activer"," les notifications"]}),(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition ".concat(d.notifications?"translate-x-6":"translate-x-1"),"aria-hidden":"true"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{id:"animations-label",className:"font-medium text-gray-700",children:"Animations"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"Effets visuels et transitions"})]}),(0,t.jsxs)("button",{onClick:()=>x("animations",!d.animations),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ".concat(d.animations?"bg-blue-600":"bg-gray-200"),role:"switch","aria-checked":d.animations,"aria-labelledby":"animations-label","aria-describedby":"animations-desc",children:[(0,t.jsxs)("span",{className:"sr-only",children:[d.animations?"Désactiver":"Activer"," les animations"]}),(0,t.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition ".concat(d.animations?"translate-x-6":"translate-x-1"),"aria-hidden":"true"})]})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"🔒 Données & Sécurité"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold text-green-800 mb-2",children:"🔐 Votre vie privée est respectée"}),(0,t.jsxs)("ul",{className:"text-sm text-green-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Toutes vos données sont stockées localement sur votre appareil"}),(0,t.jsx)("li",{children:"• Aucune donnée n'est envoyée sur internet"}),(0,t.jsx)("li",{children:"• Aucun tracking ou analytics tiers"}),(0,t.jsx)("li",{children:"• Vous contrôlez 100% de vos informations"})]}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)("button",{onClick:()=>{alert("\n=== AUDIT DE SÉCURITÉ ADHD LIFE ASSISTANT ===\n\nDonnées collectées: AUCUNE sur serveur\n- Mood, santé, finances: localStorage uniquement\n- Aucun cookie de tracking\n- Aucun analytics tiers\n- Code source: github.com/adhd-assistant (open source)\n\nConnexions réseau: AUCUNE sauf chat Claude (optionnel)\n- Chat Claude: messages uniquement, pas de données perso\n- Aucune connexion à Google/Facebook/autres trackers\n- Vérifiez dans DevTools > Network\n\nlocalStorage vérifié: ".concat(Object.keys(localStorage).filter(e=>e.startsWith("adhd-")).length," clés locales\nDernière vérif: ").concat(new Date().toLocaleString("fr-FR"),"\n\n✅ CONFORME RGPD par design (pas de transfert de données)\n✅ Audit de sécurité: VALIDÉ\n                      "))},className:"text-xs text-green-600 hover:text-green-800 underline",children:"🔍 Auditer la sécurité maintenant"})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("button",{onClick:()=>{let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({mood:{entries:JSON.parse(localStorage.getItem("adhd-mood-entries")||"[]"),current:localStorage.getItem("adhd-current-mood")},finance:{expenses:JSON.parse(localStorage.getItem("adhd-expenses")||"[]"),budgets:JSON.parse(localStorage.getItem("adhd-budgets")||"[]"),wishlist:JSON.parse(localStorage.getItem("adhd-wishlist")||"[]")},cleaning:{tasks:JSON.parse(localStorage.getItem("adhd-cleaning-tasks")||"[]"),completedTasks:JSON.parse(localStorage.getItem("adhd-completed-tasks")||"[]")},health:{wellbeingEntries:JSON.parse(localStorage.getItem("adhd-wellbeing-entries")||"[]"),medications:JSON.parse(localStorage.getItem("adhd-medications")||"[]"),medicationEntries:JSON.parse(localStorage.getItem("adhd-medication-entries")||"[]"),activities:JSON.parse(localStorage.getItem("adhd-activities")||"[]"),appointments:JSON.parse(localStorage.getItem("adhd-appointments")||"[]")},reminders:JSON.parse(localStorage.getItem("adhd-reminders")||"[]"),settings:d,exportDate:new Date().toISOString()},null,2)),t="adhd-assistant-backup-".concat(new Date().toISOString().split("T")[0],".json"),s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download",t),s.click()},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-describedby":"export-help",children:[(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:"📤"})," Exporter mes données"]}),(0,t.jsxs)("label",{className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors cursor-pointer text-center focus-within:outline-none focus-within:ring-2 focus-within:ring-green-500 focus-within:ring-offset-2","aria-describedby":"import-help",children:[(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:"📥"})," Importer des données",(0,t.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(!s)return;let a=new FileReader;a.onload=e=>{try{var t;let s=JSON.parse(null==(t=e.target)?void 0:t.result);if(!confirm("Êtes-vous sûr de vouloir importer ces données ? Cela remplacera vos données actuelles."))return;Object.entries(s).forEach(e=>{let[t,s]=e;"mood"===t?(localStorage.setItem("adhd-mood-entries",JSON.stringify(s.entries||[])),s.current&&localStorage.setItem("adhd-current-mood",s.current)):"finance"===t?(localStorage.setItem("adhd-expenses",JSON.stringify(s.expenses||[])),localStorage.setItem("adhd-budgets",JSON.stringify(s.budgets||[])),localStorage.setItem("adhd-wishlist",JSON.stringify(s.wishlist||[]))):"cleaning"===t?(localStorage.setItem("adhd-cleaning-tasks",JSON.stringify(s.tasks||[])),localStorage.setItem("adhd-completed-tasks",JSON.stringify(s.completedTasks||[]))):"health"===t?(localStorage.setItem("adhd-wellbeing-entries",JSON.stringify(s.wellbeingEntries||[])),localStorage.setItem("adhd-medications",JSON.stringify(s.medications||[])),localStorage.setItem("adhd-medication-entries",JSON.stringify(s.medicationEntries||[])),localStorage.setItem("adhd-activities",JSON.stringify(s.activities||[])),localStorage.setItem("adhd-appointments",JSON.stringify(s.appointments||[]))):"reminders"===t?localStorage.setItem("adhd-reminders",JSON.stringify(s||[])):"settings"===t&&(Object.entries(s).forEach(e=>{let[t,s]=e;localStorage.setItem("adhd-settings-".concat(t),s)}),m(s))}),alert("✅ Données importées avec succès ! Rechargez la page pour voir les changements.")}catch(e){alert("❌ Erreur lors de l'import des données. Vérifiez le fichier.")}},a.readAsText(s)},className:"sr-only","aria-label":"Sélectionner un fichier de données à importer"})]})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 space-y-1",children:[(0,t.jsx)("p",{id:"export-help",children:"Sauvegarde toutes vos données dans un fichier JSON"}),(0,t.jsx)("p",{id:"import-help",children:"Restaure vos données depuis un fichier de sauvegarde"})]}),(0,t.jsxs)("button",{onClick:()=>{confirm("⚠️ ATTENTION : Cela supprimera TOUTES vos données. Cette action est irréversible. Êtes-vous sûr ?")&&confirm("Dernière chance ! Voulez-vous vraiment supprimer toutes vos données ? (Pensez à faire un export avant si nécessaire)")&&(Object.keys(localStorage).filter(e=>e.startsWith("adhd-")).forEach(e=>localStorage.removeItem(e)),alert("✅ Toutes les données ont été supprimées. Rechargez la page."))},className:"w-full px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2","aria-describedby":"clear-help",children:[(0,t.jsx)("span",{role:"img","aria-hidden":"true",children:"🗑️"})," Supprimer toutes les données"]}),(0,t.jsx)("p",{id:"clear-help",className:"text-xs text-gray-500",children:"⚠️ Action irréversible - supprime définitivement toutes vos données"})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ℹ️ À propos"}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-sm text-gray-600",children:[(0,t.jsx)("p",{className:"mb-2",children:(0,t.jsx)("strong",{children:"ADHD Life Assistant v1.0"})}),(0,t.jsx)("p",{className:"mb-2",children:"Assistant de vie conçu avec amour pour la communauté ADHD 💜"}),(0,t.jsx)("p",{children:"Open source et respectueux de votre vie privée"})]})]})]})]}),(0,t.jsx)(ex,{isOpen:l,onClose:()=>o(!1)})]}):null}let eh={home:{title:"🏠 Accueil - Vue d'ensemble",description:"Votre dashboard central qui s'adapte à votre humeur du moment",tips:["Changez votre humeur en haut à gauche pour adapter l'interface","Les modules recommandés pour votre état actuel sont marqués ⭐","L'interface change de couleur selon votre mood pour vous aider"],keyFeatures:["Dashboard adaptatif à l'humeur","Widgets résumés de chaque module","Navigation rapide vers tous les outils"]},finance:{title:"💰 Finances - Gestion empathique",description:"Budget et dépenses sans culpabilisation, spécialement conçu pour ADHD",tips:["Catégories adaptées : Essentiel, Plaisir, Impulsion, Santé","Réflexion anti-impulsion pour achats >50€","Pas de jugement, que des encouragements bienveillants"],keyFeatures:["Tracking des dépenses par catégorie","Budgets flexibles et empathiques","Wishlist pour différer les achats impulsifs","Réflexion guidée avant gros achats"]},cleaning:{title:"🧹 Ménage - Gamification douce",description:"Rendre le ménage motivant avec timers et récompenses",tips:["Choisissez des tâches selon votre énergie du moment","Utilisez les timers pour des sessions courtes et efficaces","Célébrez chaque petite victoire, c'est important !"],keyFeatures:["Tâches adaptées à votre mood","Système de timer intégré (Pomodoro/Sprint/Micro)","Gamification saine avec points","Listes par pièce prédéfinies"]},health:{title:"🏥 Santé - Suivi médical ADHD",description:"Tracking bienveillant de votre santé et traitements",tips:["Loggez votre bien-être quotidien en 30 secondes","Suivez vos médications avec notes pour le médecin","Les visualisations vous aident à voir vos patterns"],keyFeatures:["Suivi quotidien du bien-être (énergie, focus, anxiété...)","Tracker des médications avec effets secondaires","Agenda des RDV médicaux","Export PDF pour consultations"]},analytics:{title:"📊 Analytics - Vos patterns personnels",description:"Découvrez les connexions cachées dans vos données",tips:["Plus vous utilisez l'app, plus les insights sont précis","Les corrélations vous aident à mieux vous comprendre","Utilisez les suggestions d'actions pour optimiser votre quotidien"],keyFeatures:["Détection automatique de patterns","Corrélations entre mood, santé, finances...","Insights personnalisés et bienveillants","Suggestions d'actions concrètes"]},reminders:{title:"💊 Rappels - Ne plus oublier",description:"Rappels intelligents pour vos médicaments et rendez-vous",tips:["Configurez selon votre routine personnelle","Les rappels s'adaptent à votre humeur","Marquez comme pris rapidement"],keyFeatures:["Rappels de médicaments programmables","Notifications push adaptatives","Suivi des prises manquées","Intégration avec le module Santé"]}};function eg(){let{currentView:e}=(0,a.useDashboard)(),[i,r]=(0,s.useState)(!1),n=eh[e];return n?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>r(!i),className:"fixed bottom-6 right-6 w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all hover:scale-105 z-40","aria-label":"Aide contextuelle",children:(0,t.jsx)("span",{className:"text-xl",children:"?"})}),i&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"card-elevated max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between p-6 border-b border-gray-100",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:n.title}),(0,t.jsx)("p",{className:"text-gray-600",children:n.description})]}),(0,t.jsx)("button",{onClick:()=>r(!1),className:"text-gray-400 hover:text-gray-600 text-2xl leading-none ml-4",children:"✕"})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:"⚡ Fonctionnalités principales"}),(0,t.jsx)("ul",{className:"space-y-2",children:n.keyFeatures.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-green-500 mt-1",children:"✓"}),(0,t.jsx)("span",{className:"text-gray-700",children:e})]},s))})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:"💡 Conseils d'utilisation"}),(0,t.jsx)("div",{className:"space-y-3",children:n.tips.map((e,s)=>(0,t.jsx)("div",{className:"bg-blue-50 p-3 rounded-lg",children:(0,t.jsx)("p",{className:"text-blue-800 text-sm",children:e})},s))})]}),(0,t.jsxs)("section",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold text-purple-800 mb-3 flex items-center gap-2",children:"🧠 Spécial ADHD"}),(0,t.jsxs)("div",{className:"text-sm text-purple-700 space-y-2",children:[(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"Pas de perfection requise :"})," Utilisez ce qui vous aide, ignorez le reste"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"Petits pas :"})," Mieux vaut 2 minutes par jour que 2h une fois par mois"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"Bienveillance :"})," Cette app ne vous juge pas, elle vous accompagne"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"Votre rythme :"})," Adaptez tout à VOS besoins, pas aux normes"]})]})]}),"home"===e&&(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:"⌨️ Raccourcis utiles"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,t.jsxs)("div",{className:"bg-gray-100 p-2 rounded",children:[(0,t.jsx)("kbd",{className:"font-mono bg-gray-200 px-1 rounded",children:"Tab"})," Navigation"]}),(0,t.jsxs)("div",{className:"bg-gray-100 p-2 rounded",children:[(0,t.jsx)("kbd",{className:"font-mono bg-gray-200 px-1 rounded",children:"Esc"})," Fermer"]}),(0,t.jsxs)("div",{className:"bg-gray-100 p-2 rounded",children:[(0,t.jsx)("kbd",{className:"font-mono bg-gray-200 px-1 rounded",children:"?"})," Aide"]}),(0,t.jsxs)("div",{className:"bg-gray-100 p-2 rounded",children:[(0,t.jsx)("kbd",{className:"font-mono bg-gray-200 px-1 rounded",children:"1-6"})," Mood rapide"]})]})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-100 p-6",children:(0,t.jsx)("div",{className:"text-center text-sm text-gray-500",children:"💜 Besoin d'aide ? Cette app est conçue pour vous accompagner, pas vous stresser !"})})]})})]}):null}function eb(){return(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"✅"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Module Tâches"}),(0,t.jsx)("p",{className:"opacity-70",style:{color:"var(--mood-text)"},children:"To-do lists intelligentes ADHD - Bientôt disponible"})]})}function ej(){return(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"🎯"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Module Focus"}),(0,t.jsx)("p",{className:"opacity-70",style:{color:"var(--mood-text)"},children:"Sessions Pomodoro adaptatives - Bientôt disponible"})]})}function ev(){let{currentView:e,isSidebarOpen:i,setSidebarOpen:r}=(0,a.useDashboard)(),{needsOnboarding:n,completeOnboarding:l}=function(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let e=localStorage.getItem("adhd-user-profile");if(e)try{let s=JSON.parse(e);t(!s.onboardingCompleted)}catch(e){t(!0)}else t(!0)},[]),{needsOnboarding:e,completeOnboarding:()=>{t(!1)}}}(),[o,d]=s.default.useState(!1);return s.default.useEffect(()=>{let e=e=>{if("?"===e.key&&!e.ctrlKey&&!e.metaKey){let e=document.querySelector('[aria-label="Aide contextuelle"]');e&&e.click()}if(["1","2","3","4","5"].includes(e.key)&&(e.ctrlKey||e.metaKey)){e.preventDefault();let t=document.querySelectorAll("[data-mood-selector] button"),s=parseInt(e.key)-1;t[s]&&t[s].click()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),s.default.useEffect(()=>{let e=document.getElementById("dashboard-root");if(e)return c.initializeComponent(e,{arrowNavigation:"both"})},[]),s.default.useEffect(()=>{let e=()=>d(!0);return window.addEventListener("open-settings",e),()=>window.removeEventListener("open-settings",e)},[]),s.default.useEffect(()=>{n&&(window.location.href="/onboarding")},[n]),(0,t.jsxs)("div",{id:"dashboard-root",className:"min-h-screen bg-gradient-to-br transition-all duration-700 ease-in-out",children:[(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(m,{}),(0,t.jsxs)("main",{id:"main-content",className:"flex-1 flex flex-col overflow-hidden",role:"main","aria-label":"Contenu principal",children:[(0,t.jsx)("header",{className:"lg:hidden bg-white/80 backdrop-blur-md border-b border-white/20 p-3 safe-area-inset-top",role:"banner",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("button",{onClick:()=>r(!0),className:"p-2 rounded-lg hover:bg-white/50 transition-colors touch-manipulation focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Ouvrir le menu de navigation","aria-expanded":i,"aria-controls":"navigation-sidebar",children:(0,t.jsx)("span",{className:"text-xl",role:"img","aria-hidden":"true",children:"☰"})}),(0,t.jsx)("h1",{className:"font-bold text-center flex-1 truncate mx-4",style:{color:"var(--mood-text)"},id:"app-title",children:"ADHD Assistant"}),(0,t.jsx)("button",{onClick:()=>d(!0),className:"p-2 rounded-lg hover:bg-white/50 transition-colors touch-manipulation focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","aria-label":"Ouvrir les paramètres","aria-expanded":o,children:(0,t.jsx)("span",{className:"text-xl",role:"img","aria-hidden":"true",children:"⚙️"})})]})}),(0,t.jsx)("section",{className:"flex-1 overflow-auto safe-area-inset-bottom","aria-labelledby":"current-view-title",children:(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 fade-in max-w-full",children:[(0,t.jsx)("h2",{id:"current-view-title",className:"sr-only",children:(()=>{switch(e){case"home":return"Tableau de bord principal";case"chat":return"Chat avec Claude";case"reminders":return"Rappels médicaments";case"cooking":return"Cuisine adaptative";case"checklists":return"Checklists anti-oublis";case"finance":return"Finances ADHD";case"cleaning":return"Ménage ADHD";case"health":return"Suivi Santé ADHD";case"analytics":return"Analytics et insights";case"tasks":return"Module Tâches";case"focus":return"Module Focus";default:return"Tableau de bord"}})()}),(()=>{switch(e){case"home":default:return(0,t.jsx)(N,{});case"chat":return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Chat avec Claude"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Assistant IA qui s'adapte à votre humeur"})]}),(0,t.jsx)(q,{})]});case"reminders":return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Rappels médicaments"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Ne ratez jamais vos prises de médicaments"})]}),(0,t.jsx)(D,{})]});case"cooking":return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Cuisine adaptative"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Recettes qui s'adaptent à ton humeur et ton énergie"})]}),(0,t.jsx)(z,{})]});case"checklists":return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Checklists anti-oublis"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Ne rien oublier avant de partir, spécialement conçu pour ADHD"})]}),(0,t.jsx)(B,{})]});case"finance":return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Finances ADHD"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Gestion empathique de vos finances, sans culpabilisation"})]}),(0,t.jsx)(Q,{})]});case"cleaning":return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Ménage ADHD"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Gamification douce pour rendre le ménage motivant"})]}),(0,t.jsx)(es,{})]});case"health":return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Suivi Santé ADHD"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Tracking médical simple et bienveillant pour adultes ADHD"})]}),(0,t.jsx)(ec,{})]});case"analytics":return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--mood-text)"},children:"Analytics & Insights"}),(0,t.jsx)("p",{className:"opacity-80",style:{color:"var(--mood-text)"},children:"Découvrez vos patterns personnels et optimisez votre quotidien"})]}),(0,t.jsx)(em,{})]});case"tasks":return(0,t.jsx)(eb,{});case"focus":return(0,t.jsx)(ej,{})}})()]})})]})]}),n&&(0,t.jsx)(eu,{onComplete:l}),(0,t.jsx)(ep,{isOpen:o,onClose:()=>d(!1)}),(0,t.jsx)(eg,{})]})}}]);